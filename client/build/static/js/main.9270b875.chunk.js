(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{105:function(e,t,n){},161:function(e,t,n){},162:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),a=n(50),i=n.n(a),r=(n(105),n(5)),o=n(15),l=n(13),d=n(9),u=n.n(d),m="/api",x=n(96),j=n(6),b=n(2),f=[{name:"Facebook",href:"#",icon:function(e){return Object(b.jsx)("svg",Object(j.a)(Object(j.a)({fill:"currentColor",viewBox:"0 0 24 24"},e),{},{children:Object(b.jsx)("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})}))}},{name:"Instagram",href:"#",icon:function(e){return Object(b.jsx)("svg",Object(j.a)(Object(j.a)({fill:"currentColor",viewBox:"0 0 24 24"},e),{},{children:Object(b.jsx)("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})}))}},{name:"Twitter",href:"#",icon:function(e){return Object(b.jsx)("svg",Object(j.a)(Object(j.a)({fill:"currentColor",viewBox:"0 0 24 24"},e),{},{children:Object(b.jsx)("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})}))}},{name:"GitHub",href:"#",icon:function(e){return Object(b.jsx)("svg",Object(j.a)(Object(j.a)({fill:"currentColor",viewBox:"0 0 24 24"},e),{},{children:Object(b.jsx)("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})}))}},{name:"Dribbble",href:"#",icon:function(e){return Object(b.jsx)("svg",Object(j.a)(Object(j.a)({fill:"currentColor",viewBox:"0 0 24 24"},e),{},{children:Object(b.jsx)("path",{fillRule:"evenodd",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10c5.51 0 10-4.48 10-10S17.51 2 12 2zm6.605 4.61a8.502 8.502 0 011.93 5.314c-.281-.054-3.101-.629-5.943-.271-.065-.141-.12-.293-.184-.445a25.416 25.416 0 00-.564-1.236c3.145-1.28 4.577-3.124 4.761-3.362zM12 3.475c2.17 0 4.154.813 5.662 2.148-.152.216-1.443 1.941-4.48 3.08-1.399-2.57-2.95-4.675-3.189-5A8.687 8.687 0 0112 3.475zm-3.633.803a53.896 53.896 0 013.167 4.935c-3.992 1.063-7.517 1.04-7.896 1.04a8.581 8.581 0 014.729-5.975zM3.453 12.01v-.26c.37.01 4.512.065 8.775-1.215.25.477.477.965.694 1.453-.109.033-.228.065-.336.098-4.404 1.42-6.747 5.303-6.942 5.629a8.522 8.522 0 01-2.19-5.705zM12 20.547a8.482 8.482 0 01-5.239-1.8c.152-.315 1.888-3.656 6.703-5.337.022-.01.033-.01.054-.022a35.318 35.318 0 011.823 6.475 8.4 8.4 0 01-3.341.684zm4.761-1.465c-.086-.52-.542-3.015-1.659-6.084 2.679-.423 5.022.271 5.314.369a8.468 8.468 0 01-3.655 5.715z",clipRule:"evenodd"})}))}}];function h(){return Object(b.jsx)("footer",{className:"bg-white dark:bg-gray-700",children:Object(b.jsxs)("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 md:flex md:items-center md:justify-between lg:px-8",children:[Object(b.jsx)("div",{className:"flex justify-center space-x-6 md:order-2",children:f.map((function(e){return Object(b.jsxs)("a",{href:e.href,className:"text-gray-400 hover:text-gray-500",children:[Object(b.jsx)("span",{className:"sr-only",children:e.name}),Object(b.jsx)(e.icon,{className:"h-6 w-6","aria-hidden":"true"})]},e.name)}))}),Object(b.jsx)("div",{className:"mt-8 md:mt-0 md:order-1",children:Object(b.jsx)("p",{className:"text-center text-base text-gray-400",children:"Copyright"})})]})})}var p=n(176),g=n(173),O=n(44),v=n(37);var y=n(175),w=n(94);function N(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}function k(){var e=function(){var e=localStorage.getItem("MusicRequestThemePreference"),t=Object(c.useState)(e),n=Object(r.a)(t,2),s=n[0],a=n[1],i="light"===s?"dark":"light";return Object(c.useEffect)((function(){var t=window.document.documentElement;t.classList.remove(i),t.classList.add(s),localStorage.setItem("MusicRequestThemePreference",s),console.log(e)}),[s],i),[i,a,s]}(),t=Object(r.a)(e,3),n=t[0],s=t[1],a=t[2];return Object(b.jsxs)(y.a,{checked:"dark"===a,onChange:function(){return s(n)},className:N("dark"===a?"bg-blue-700":"bg-gray-200","relative inline-flex flex-shrink-0 h-5 w-10 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200"),children:[Object(b.jsx)("span",{className:"sr-only",children:"Use setting"}),Object(b.jsxs)("span",{className:N("dark"===a?"translate-x-5":"translate-x-0","pointer-events-none relative inline-block h-4 w-4 rounded-full bg-white shadow transform ring-0 transition ease-in-out duration-200"),children:[Object(b.jsx)("span",{className:N("dark"===a?"opacity-0 ease-out duration-100":"opacity-100 ease-in duration-200","absolute inset-0 h-full w-full flex items-center justify-center transition-opacity"),"aria-hidden":"true",children:Object(b.jsx)(w.a,{className:"text-gray-400"})}),Object(b.jsx)("span",{className:N("dark"===a?"opacity-100 ease-in duration-200":"opacity-0 ease-out duration-100","absolute inset-0 h-full w-full flex items-center justify-center transition-opacity"),"aria-hidden":"true",children:Object(b.jsx)(v.c,{className:"h-3 w-3 text-indigo-600"})})]})]})}function C(e){Object(l.h)();var t=Object(l.g)();return Object(b.jsxs)(p.a,{className:" ",children:[Object(b.jsxs)("div",{className:"flex justify-between items-center px-4 py-6 sm:px-6 md:justify-start md:space-x-10",children:[Object(b.jsxs)("div",{className:"-mr-2 -my-2 md:hidden flex justify-between w-full",children:[Object(b.jsxs)(p.a.Button,{className:"bg-indigo-600 dark:bg-gray-600 rounded-md p-2 inline-flex items-center justify-center text-white dark:text-white hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500",children:[Object(b.jsx)("span",{className:"sr-only",children:"Open menu"}),Object(b.jsx)(O.a,{className:"h-6 w-6","aria-hidden":"true"})]}),Object(b.jsx)("span",{onClick:function(){return t.push("/login")},className:"p-2 inline-flex items-center justify-center border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:Object(b.jsx)(v.a,{className:"h-6 w-6"})})]}),Object(b.jsxs)("div",{className:"hidden md:flex-1 md:flex md:items-center md:justify-between",children:[Object(b.jsxs)(p.a.Group,{as:"nav",className:"flex space-x-10",children:[e.event[0].active_wall_picture?Object(b.jsx)(o.b,{to:"/app/picture",className:"text-base font-medium text-gray-500 hover:text-gray-900 cursor-pointer",children:"Wall Picture"}):null,e.event[0].active_music_request?Object(b.jsx)(o.b,{to:"/app/music",className:"text-base font-medium text-gray-500 hover:text-gray-900 cursor-pointer",children:"Music Request"}):null]}),Object(b.jsxs)("div",{className:"flex items-center md:ml-12 cursor-pointer",children:[Object(b.jsx)(k,{}),Object(b.jsx)("span",{onClick:function(){window.open("/login","_blank").focus()},className:"ml-8 inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:Object(b.jsx)(v.a,{})})]})]})]}),Object(b.jsx)(g.a,{as:c.Fragment,enter:"duration-200 ease-out",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"duration-100 ease-in",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:Object(b.jsx)(p.a.Panel,{focus:!0,className:"absolute top-0 inset-x-0 p-2 transition transform origin-top-right md:hidden",children:Object(b.jsxs)("div",{className:"dark:bg-gray-800 rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 bg-white divide-y-2 divide-gray-50 dark:divide-gray-600",children:[Object(b.jsx)("div",{className:"pt-5 pb-6 px-5",children:Object(b.jsx)("div",{className:"flex items-center justify-between",children:Object(b.jsxs)("div",{className:"-mr-2 flex justify-between w-full items-center",children:[Object(b.jsxs)(p.a.Button,{className:"bg-white dark:bg-gray-500 dark:text-white rounded-md p-2 inline-flex items-center justify-center text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500",children:[Object(b.jsx)("span",{className:"sr-only",children:"Close menu"}),Object(b.jsx)(O.b,{className:"h-6 w-6","aria-hidden":"true"})]}),Object(b.jsx)(k,{})]})})}),Object(b.jsx)("div",{className:"py-6 px-5",children:Object(b.jsxs)("div",{className:"flex flex-col space-y-3",children:[Object(b.jsx)(o.b,{to:"/app/picture",className:"text-base font-medium text-gray-900 hover:text-gray-700 dark:text-white cursor-pointer",children:"Wall Picture"}),Object(b.jsx)(o.b,{to:"/app/music",className:"text-base font-medium text-gray-900 hover:text-gray-700 dark:text-white cursor-pointer",children:"Music Request"})]})})]})})})]})}var S=n.p+"static/media/musicbandeau.2e60f5b1.jpg";var I,_=function(){return Object(b.jsx)("div",{children:"Photo"})},T=n(19),V=(n(62),n(55)),M=n(34),B=n.n(M),A=function(e){var t=Object(c.useState)({title:"",artist:"",countVote:null,unavailable:0,isValid:0,isNew:1}),n=Object(r.a)(t,2),s=n[0],a=n[1],i=function(t){if(t.preventDefault(),e.isAllowed){var n=[];e.songs.forEach((function(e){e.artist.toLowerCase()===s.artist.toLowerCase()&&n.push(e)})),n.filter((function(e){return e.title.toLowerCase()===s.title.toLowerCase()})).length<1?u.a.post("".concat(m,"/currentsongs"),Object(j.a)(Object(j.a)({},s),{},{countVote:0})).then((function(){T.a.success("Musique envoy\xe9!",{position:T.a.POSITION.TOP_RIGHT}),B()("http://localhost:8000").emit("update","musiclist"),Object(V.removeInput)(["title","artist"])})).catch((function(e){T.a.error("Erreur",{position:T.a.POSITION.TOP_RIGHT}),console.log(e)})):T.a.error("Chanson d\xe9ja dans la liste",{position:T.a.POSITION.TOP_RIGHT})}else T.a.error("Vous n'\xeates pas autoris\xe9!",{position:T.a.POSITION.TOP_RIGHT})};return Object(b.jsx)("div",{className:"max-w-lg mx-auto lg:max-w-none",children:Object(b.jsxs)("form",{onSubmit:function(e){return i(e)},className:"flex flex-col justify-center items-center space-y-4",children:[Object(b.jsxs)("div",{className:"flex space-x-4",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"title",className:"sr-only",children:"Titre"}),Object(b.jsx)("input",{required:!0,type:"text",name:"title",id:"title",autoComplete:"title",className:"block w-full shadow-sm py-3 px-4 placeholder-gray-500 focus:ring-indigo-500 focus:border-indigo-500 border border-gray-300 rounded-md",placeholder:"Titre",onChange:function(e){return function(e){a(Object(j.a)(Object(j.a)({},s),{},{title:e.target.value}))}(e)}})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"email",className:"sr-only",children:"Artiste"}),Object(b.jsx)("input",{required:!0,id:"artist",name:"artist",type:"artist",autoComplete:"artist",className:"block w-full shadow-sm py-3 px-4 placeholder-gray-500 focus:ring-indigo-500 focus:border-indigo-500 border border-gray-300 rounded-md",placeholder:"Artiste",onChange:function(e){return function(e){a(Object(j.a)(Object(j.a)({},s),{},{artist:e.target.value}))}(e)}})]})]}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{type:"submit",className:"inline-flex justify-center py-3 px-6 border border-transparent shadow-sm text-base font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Envoyer"})})]})})};function P(e){var t=function(){var e=Object(c.useState)(0),t=Object(r.a)(e,2),n=(t[0],t[1]);return function(){return n((function(e){return e+1}))}}(),n=function(e){var t=localStorage.getItem("idMusicVoting");return null!==t&&t.includes(e)};return Object(b.jsx)("div",{className:"bg-white dark:bg-gray-700 shadow overflow-hidden sm:rounded-md",children:Object(b.jsx)("ul",{className:"divide-y divide-gray-200 dark:divide-gray-500",children:e.isLoading?e.songs.map((function(c){return Object(b.jsx)("li",{children:Object(b.jsxs)("div",{className:" flex items-center justify-between px-4 py-4 sm:px-6 flex-col md:flex-row",children:[Object(b.jsxs)("div",{className:"flex flex-col items-center md:items-start text-gray-800 dark:text-gray-100",children:[Object(b.jsx)("p",{className:" text-sm font-medium break-all text-center md:text-left",children:c.title}),Object(b.jsx)("p",{className:" text-sm font-medium break-all text-center md:text-left",children:c.artist})]}),Object(b.jsxs)("div",{className:"flex flex-row mt-2 md:mt-0",children:[c.countVote>=0?Object(b.jsx)("div",{className:"flex items-center",children:Object(b.jsx)("div",{className:"px-4 ",children:Object(b.jsxs)("p",{className:"capitalize text-sm font-medium text-gray-500 dark:text-gray-400",children:["Vote: ",c.countVote]})})}):null,Object(b.jsx)("div",{className:"min-w-0 flex-1 flex items-center",children:Object(b.jsx)("div",{className:"min-w-0 flex-1 px-4 md:grid md:grid-cols-3 md:gap-4",children:1===c.isNew?n(c.id)?Object(b.jsx)("div",{className:"w-full md:w-28 col-start-2 col-span-2 inline-flex items-center justify-center px-8 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-gray-400 bg-gray-100",children:"Vot\xe9!"}):Object(b.jsx)("button",{onClick:function(){return function(n,c){if(e.isAllowed){var s=parseInt(c)+1;u.a.put("".concat(m,"/currentSongs/").concat(n),{countVote:s}).then((function(e,t){if(null===localStorage.getItem("idMusicVoting")&&null===localStorage.getItem("date"))localStorage.setItem("idMusicVoting",n);else{var c=localStorage.getItem("idMusicVoting");if(null!==c){var s=c.split(",");s.push(n),localStorage.removeItem("idMusicVoting"),localStorage.setItem("idMusicVoting",s)}}B()("http://localhost:8000").emit("update","musiclist")})),t()}else T.a.error("Vous n'\xeates pas autoris\xe9!",{position:T.a.POSITION.TOP_RIGHT})}(c.id,c.countVote)},type:"button",className:"w-full md:w-28 col-start-2 col-span-2 inline-flex items-center justify-center px-8 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Voter"}):1===c.unavailable?Object(b.jsx)("div",{className:"w-full md:w-28 col-start-2 col-span-2 inline-flex items-center justify-center px-8 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-yellow-600 bg-yellow-100",children:Object(b.jsx)("div",{children:"Indisponible"})}):1===c.isValid?Object(b.jsx)("div",{className:"w-full md:w-28 col-start-2 col-span-2 inline-flex items-center justify-center px-8 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-green-600 bg-green-100",children:Object(b.jsx)("div",{children:"Valid\xe9"})}):null})})]})]})},c.id)})):null})})}function E(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(!1),i=Object(r.a)(a,2),o=i[0],d=i[1],x=Object(c.useState)(""),j=Object(r.a)(x,2),f=j[0],h=j[1],p=Object(c.useState)(!0),g=Object(r.a)(p,2),O=g[0],v=g[1],y=Object(l.g)(),w=JSON.parse(localStorage.getItem("usInfoMusic"));Object(c.useEffect)((function(){I=B()("/"),N(),C(),k(),I.on("musicupdate",(function(e){console.log("jai bien recu et je met a jour"),e&&N()})),I.on("titleupdate",(function(e){console.log("jai bien recu et je met a jour"),e&&k()}))}),[]);var N=function(){u.a.get("".concat(m,"/currentSongs")).then((function(e){s(e.data),d(!0)})).catch((function(e){console.log(e)}))},k=function(){u.a.get("".concat(m,"/app/songinprogress")).then((function(e){h(e.data.app.titleincurent)})).catch((function(e){console.log(e)}))},C=function(){w?u.a.get("".concat(m,"/visitor/").concat(w.id)).then((function(e){e.data[0].isNotAllowed?v(!1):v(!0)})).catch((function(e){console.log(e)})):y.push("/new")};return Object(b.jsx)("div",{className:"pb-8 max-w-5xl mx-auto px-4 sm:px-6 lg:px-8  lg:rounded-md bg-white dark:bg-gray-900 shadow sm:mb-8",children:Object(b.jsxs)("div",{className:"max-w-3xl mx-auto",children:[Object(b.jsx)("div",{className:"px-4 py-5 border-b border-gray-200 dark:border-gray-400 sm:px-6",children:Object(b.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-100",children:f})}),Object(b.jsx)("div",{className:"py-8 px-4 sm:px-6 lg:col-span-3  lg:px-8 xl:pl-12",children:Object(b.jsx)(A,{songs:n,isAllowed:O})}),Object(b.jsx)(P,{isLoading:o,songs:n.sort((function(e,t){return e.countVote>t.countVote?-1:t.countVote>e.countVote?1:0})),isAllowed:O})]})})}var q=function(){var e=Object(l.g)(),t=Object(c.useState)([]),n=Object(r.a)(t,2),s=n[0],a=n[1],i=Object(c.useState)(!1),d=Object(r.a)(i,2),j=d[0],f=d[1],p=[{id:0,activate:!1,path:"/app/music",name:"Musique",icon:"mdi mdi-pencil-circle",redirect:!1,component:E},{id:1,activate:!1,path:"/app/",pathTo:"/app/music",name:"App",redirect:!0},{id:2,activate:!1,path:"/app/picture",name:"Photo",icon:"mdi mdi-pencil-circle",redirect:!1,component:_},{id:3,activate:!1,path:"/app/",pathTo:"/app/picture",name:"App",redirect:!0}];return Object(c.useEffect)((function(){var t=new Promise((function(e,t){if(localStorage.getItem("usInfoMusic")){var n=JSON.parse(localStorage.getItem("usInfoMusic"));u.a.post("".concat(m,"/visitor/").concat(n.id),{uuid:n.uuid}).then((function(n){n.data.status?e():(localStorage.removeItem("usInfoMusic"),t())})).catch((function(e){console.log(e),t()}))}else t()})),n=localStorage.getItem("uuidEvent");u.a.get("".concat(m,"/events")).then((function(c){if(c.data.length>0){var s=c.data;a(s),s[0].uuid===n&&n||(localStorage.removeItem("idMusicVoting"),localStorage.removeItem("usInfoMusic"),localStorage.setItem("uuidEvent",s[0].uuid)),t.then((function(e){u.a.get("".concat(m,"/events")).then((function(e){a(e.data),setTimeout((function(){f(!0)}),2e3)})).catch((function(e){console.log(e)}))})).catch((function(t){e.push("/new")}))}else localStorage.removeItem("idMusicVoting"),localStorage.removeItem("usInfoMusic"),localStorage.removeItem("uuidEvent"),f(!0)}))}),[e]),j&&s.length>0&&(!1===s[0].active_music_request&&!1===s[0].active_wall_picture?console.log("aucune fonctionnalit\xe9 activ\xe9!"):s[0].active_music_request&&!s[0].active_wall_picture?(p[0].activate=!0,p[1].activate=!0):!s[0].active_music_request&&s[0].active_wall_picture?(p[2].activate=!0,p[3].activate=!0):p.forEach((function(e){3!==e.id&&(e.activate=!0)}))),Object(b.jsx)("div",{children:j?s.length>0?Object(b.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 min-h-screen flex flex-col justify-between",children:[Object(b.jsxs)("div",{className:"flex flex-col",children:[Object(b.jsxs)("div",{className:"relative h-32",children:[Object(b.jsx)("div",{className:"absolute inset-0",children:j?Object(b.jsx)("img",{className:"w-full h-full object-cover",src:s.length>0&&null!==s[0].bg_music?"/uploads/".concat(s[0].bg_music):S,alt:"banniere"}):null}),Object(b.jsx)("div",{className:"relative max-w-7xl mx-auto h-32 sm:px-8 px-2",children:Object(b.jsx)("div",{className:"flex items-center justify-center h-full",children:Object(b.jsx)("h1",{className:"text-4xl font-extrabold tracking-tight text-white sm:text-5xl ",children:s[0].name})})})]}),Object(b.jsx)(C,{event:s}),Object(b.jsx)("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8 ",children:Object(b.jsx)(l.d,{children:p.filter((function(e){return!0===e.activate})).map((function(e,t){return console.log(p.filter((function(e){return!0===e.activate})),"dans le rendu"),e.redirect?Object(b.jsx)(l.a,{from:e.path,to:e.pathTo},t):Object(b.jsx)(l.b,{path:e.path,component:e.component},t)}))})})]}),Object(b.jsx)(h,{})]}):Object(b.jsx)("div",{className:"bg-white min-h-screen",children:Object(b.jsx)("div",{className:"max-w-7xl mx-auto py-16 px-4 sm:py-24 sm:px-6 lg:px-8",children:Object(b.jsxs)("div",{className:"text-center",children:[Object(b.jsx)("p",{className:"mt-1 text-4xl font-extrabold text-gray-900 sm:text-5xl sm:tracking-tight lg:text-6xl",children:"Request Songs"}),Object(b.jsx)("p",{className:"max-w-xl mt-5 mx-auto text-xl text-gray-500",children:"Veuillez vous connecter afin de creer un \xe9venement!"}),Object(b.jsx)(o.b,{to:"/login",children:Object(b.jsx)("div",{className:"inline-flex rounded-md shadow",children:Object(b.jsx)("div",{className:"mt-4 inline-flex items-center justify-center px-5 py-3 border border-transparent text-base font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700",children:"Login"})})})]})})}):Object(b.jsxs)("div",{className:"w-full h-screen justify-center items-center flex flex-col",children:[Object(b.jsx)(x.a,{size:42,className:"animate-spin"}),Object(b.jsx)("h2",{className:"animate-pulse",children:"Chargement"})]})})},F=n(43),R=n.n(F),z=n(56);function D(){var e=Object(c.useState)(""),t=Object(r.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(""),i=Object(r.a)(a,2),o=i[0],l=i[1],d=function(){T.a.error("Password ou Nom invalide!",{position:T.a.POSITION.TOP_RIGHT})},x=function(){var e=Object(z.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!n||!o){e.next=6;break}return e.next=4,u.a.post("".concat(m,"/login"),{user_name:n,user_password:o}).then((function(e){return e.data})).then((function(e){var t=JSON.stringify(e.result[0]);localStorage.setItem("token",e.token),localStorage.setItem("user",t),console.log("success"),document.location.reload(),console.log(e)})).catch((function(e){console.log("error"),d()}));case 4:e.next=8;break;case 6:console.log("champ vides"),d();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[Object(b.jsx)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:Object(b.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Connection"})}),Object(b.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:Object(b.jsx)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:Object(b.jsxs)("form",{className:"space-y-6",onSubmit:function(e){e.preventDefault(),x(e)},children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Nom"}),Object(b.jsx)("div",{className:"mt-1",children:Object(b.jsx)("input",{onChange:function(e){e.preventDefault(),function(e){s(e.target.value)}(e)},id:"nom",name:"nom",type:"nom",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),Object(b.jsx)("div",{className:"mt-1",children:Object(b.jsx)("input",{onChange:function(e){!function(e){l(e.target.value)}(e)},id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Se connecter"})})]})})})]})}T.a.configure();var L,G=n(97),U=n(57),H=n(12),W=n.n(H),J=n(41),Y=n.n(J),K=Y()(W.a),Q=function(){var e=localStorage.getItem("token"),t=Object(c.useState)(""),n=Object(r.a)(t,2),s=n[0],a=n[1],i=Object(c.useState)([]),o=Object(r.a)(i,2),l=o[0],d=o[1],x=Object(c.useState)(null),j=Object(r.a)(x,2),f=j[0],h=j[1],p=function(){u.a.get("".concat(m,"/currentSongs")).then((function(e){d(e.data)})).catch((function(e){console.log(e)}))};return Object(c.useEffect)((function(){p(),(L=B()("http://localhost:8000")).on("musicupdate",(function(e){console.log("jai bien recu et je met a jour"),e&&p()}))}),[]),Object(b.jsxs)("div",{className:"flex flex-col",children:[Object(b.jsx)("div",{className:"w-full",children:Object(b.jsxs)("div",{className:"flex justify-between mb-5",children:[Object(b.jsxs)("div",{className:"flex space-x-3",children:[Object(b.jsx)("input",{onChange:function(e){h(e.target.value)},type:"text",name:"title",id:"title",className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:"Titre en cours"}),Object(b.jsx)("button",{disabled:null===f||""===f,onClick:function(){K.fire({title:"\xcates-vous s\xfbr de vouloir modifier le titre en cours ?",showCancelButton:!0,confirmButtonText:"Valider",cancelButtonText:"Annuler"}).then((function(t){t.isConfirmed&&u.a.put("".concat(m,"/app/songinprogress/0"),{titleincurent:f},{headers:{"x-access-token":e}}).then((function(){W.a.fire("Modifi\xe9!","","success"),Object(V.removeInput)(["title"]),h(""),L.emit("update","title")})).catch((function(e){W.a.fire("Erreur!","","error")}))}))},type:"button",className:null===f||""===f?"inline-flex items-center px-4 py-2 border border-transparent text-base font-medium rounded-md text-gray-700 bg-gray-100 cursor-not-allowed dark:bg-gray-500 dark:text-gray-200":"inline-flex items-center px-4 py-2 border border-transparent text-base font-medium rounded-md text-green-700 dark:bg-green-700 dark:text-green-100 bg-green-100 hover:bg-green-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Valider"})]}),Object(b.jsxs)("div",{className:"flex items-center space-x-2",children:[Object(b.jsx)("label",{htmlFor:"location",className:"block text-xs font-medium text-gray-700 dark:text-gray-200",children:"Trier:"}),Object(b.jsxs)("select",{defaultValue:"",id:"location",name:"location",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",onChange:function(e){a(e.target.value)},children:[Object(b.jsx)("option",{disabled:!0}),Object(b.jsx)("option",{value:"indispo",children:"Indisponible"}),Object(b.jsx)("option",{value:"valid\xe9",children:"Valid\xe9"}),Object(b.jsx)("option",{value:"voteup",children:"Top vote"})]})]})]})}),Object(b.jsx)("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:Object(b.jsxs)("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:[Object(b.jsx)("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:Object(b.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[Object(b.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-700",children:Object(b.jsxs)("tr",{className:"text-gray-500 dark:text-gray-50",children:[Object(b.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Musique"}),Object(b.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium  uppercase tracking-wider",children:"Status"}),Object(b.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Vote"}),Object(b.jsx)("th",{scope:"col",className:"relative px-6 py-3",children:Object(b.jsx)("span",{className:"sr-only",children:"Edit"})})]})}),Object(b.jsx)("tbody",{className:"bg-white dark:bg-gray-400 dark:divide-white divide-y divide-gray-200",children:l.sort((function(e,t){return function(e,t){if("indispo"===s){if(1===e.unavailable)return-1;if(0===t.unavailable)return 1}else if("valid\xe9"===s){if(1===e.isValid)return-1;if(0===t.isValid)return 1}else if("voteup"===s)return e.countVote>t.countVote?-1:1}(e,t)})).map((function(t){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{className:" py-4 whitespace-nowrap",children:Object(b.jsx)("div",{className:"flex items-center",children:Object(b.jsxs)("div",{className:"ml-4",children:[Object(b.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t.title}),Object(b.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-300",children:t.artist})]})})}),Object(b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:t.isNew?Object(b.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800 dark:text-gray-100 dark:bg-gray-800",children:"En attente"}):t.unavailable?Object(b.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800 dark:bg-yellow-800 dark:text-yellow-100",children:"Indisponible"}):t.isValid?Object(b.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100",children:"Valid\xe9"}):null}),Object(b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(b.jsx)("span",{className:"text-sm text-gray-500",children:t.countVote>=0?t.countVote:null})}),Object(b.jsx)("td",{className:" py-4 whitespace-nowrap ",children:Object(b.jsxs)("div",{className:"flex items-center justify-center flex-wrap text-indigo-600 hover:text-indigo-900 dark:text-blue-700",children:[Object(b.jsx)("div",{className:"cursor-pointer mx-2 my-1",onClick:function(){return n=t.id,void K.fire({title:"\xcates-vous s\xfbr de vouloir supprimer cette chanson?",showCancelButton:!0,confirmButtonText:"Valider",cancelButtonText:"Annuler"}).then((function(t){t.isConfirmed&&u.a.delete("".concat(m,"/currentsongs/").concat(n),{headers:{"x-access-token":e}}).then((function(){W.a.fire("Suprim\xe9e!","","success"),L.emit("update","musiclist")})).catch((function(e){W.a.fire("Erreur!","","error")}))}));var n},children:Object(b.jsx)(v.b,{size:24})}),Object(b.jsx)("div",{className:" cursor-pointer mx-2 my-1",onClick:function(){return n=t.id,void K.fire({title:"\xcates-vous s\xfbr de vouloir mettre cette chanson en indisponible?",showCancelButton:!0,confirmButtonText:"Valider",cancelButtonText:"Annuler"}).then((function(t){t.isConfirmed&&u.a.put("".concat(m,"/currentsongs/").concat(n),{unavailable:1,isNew:0,isValid:0,countVote:-1},{headers:{"x-access-token":e}}).then((function(){W.a.fire("Modifi\xe9!","","success"),L.emit("update","musiclist")})).catch((function(e){W.a.fire("Erreur!","","error")}))}));var n},children:Object(b.jsx)(G.a,{size:25})}),Object(b.jsx)("div",{className:"cursor-pointer mx-2 my-1",onClick:function(){return n=t.id,void K.fire({title:"\xcates-vous s\xfbr de vouloir mettre cette chanson en valid\xe9?",showCancelButton:!0,confirmButtonText:"Valider",cancelButtonText:"Annuler"}).then((function(t){t.isConfirmed&&u.a.put("".concat(m,"/currentsongs/").concat(n),{unavailable:0,isNew:0,isValid:1,countVote:-1},{headers:{"x-access-token":e}}).then((function(){W.a.fire("Modifi\xe9!","","success"),L.emit("update","musiclist")})).catch((function(e){W.a.fire("Erreur!","","error")}))}));var n},children:Object(b.jsx)(U.a,{size:25})})]})})]},t.id)}))})]})}),Object(b.jsx)("div",{className:"flex justify-end mt-5",children:Object(b.jsx)("button",{onClick:function(){K.fire({title:"\xcates-vous s\xfbr de vouloir supprimer toutes les chansons?",showCancelButton:!0,confirmButtonText:"Valider",cancelButtonText:"Annuler"}).then((function(t){t.isConfirmed&&l.forEach((function(t){u.a.delete("".concat(m,"/currentsongs/").concat(t.id),{headers:{"x-access-token":e}}).then((function(){W.a.fire("Suprim\xe9e!","","success"),L.emit("update","musiclist")}))}))}))},type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent text-base font-medium rounded-md dark:text-red-100 dark:bg-red-700   text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Tout supprimer"})})]})})]})},X=n(10),Z=n(98),$=n(174),ee=Y()(W.a),te=function(){var e=localStorage.getItem("token"),t=Object(c.useState)(!1),n=Object(r.a)(t,2),s=n[0],a=n[1],i=Object(c.useState)({name:"",active_wall_picture:!1,active_music_request:!1}),o=Object(r.a)(i,2),l=o[0],d=o[1],x=Object(c.useState)(),f=Object(r.a)(x,2),h=f[0],p=f[1],g=Object(c.useState)({file:null,imagePreviewUrl:null}),O=Object(r.a)(g,2),v=O[0],y=O[1],w=Object(c.useState)(null),N=Object(r.a)(w,2),k=N[0],C=N[1],I=function(){u.a.get("".concat(m,"/events")).then((function(e){console.log(e.data),p(e.data[0]),a(!0)})).catch((function(e){console.log(e)}))},_=function(){var t=Object(z.a)(R.a.mark((function t(n){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),ee.fire({title:"\xcates-vous sur de vouloir modifier l'image d'en-t\xeate?",text:"Cela entra\xeenera la suppression de l'ancienne image!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Oui, je suis sur !"}).then((function(t){t.isConfirmed&&new Promise((function(t,n){var c="bg-music."+k.name.split(".").pop(),s=new FormData;s.append("file",k),u.a.post("".concat(m,"/upload/bg/").concat(h.id),s,{headers:{"Content-Type":"multipart/form-data","x-access-token":e}},{oldFileName:h.bg_music}).then((function(s){u.a.put("".concat(m,"/events/").concat(h.id),{bg_music:c},{headers:{"x-access-token":e}}).then((function(){W.a.fire("Modifi\xe9!","","success"),t(s)})).catch((function(e){W.a.fire("Erreur!","","error"),n(e)}))})).catch((function(e){n(e)}))})).then((function(){W.a.fire("Succ\xe9s!","L'image est chang\xe9","success")})).catch((function(){W.a.fire("Erreur!","Une erreur est survenue","error")}))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){I()}),[]),Object(b.jsxs)("div",{children:[s?null===h||void 0===h?null:Object(b.jsx)("div",{className:"bg-white dark:bg-gray-700 shadow sm:rounded-lg",children:Object(b.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[Object(b.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white",children:"Acc\xe8s"}),Object(b.jsx)("div",{className:"mt-2 max-w-xl text-sm text-gray-500 dark:text-gray-200",children:Object(b.jsx)("p",{children:"G\xe9rer l'acc\xe8s au fonctionnalit\xe9es"})}),Object(b.jsx)("div",{className:"",children:Object(b.jsxs)("form",{onSubmit:function(t){t.preventDefault(),ee.fire({title:"\xcates-vous sur ?",text:"Cela modifira les accc\xe8s au fonctionnalit\xe9es",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Oui, je suis sur !"}).then((function(t){t.isConfirmed&&new Promise((function(t,n){u.a.put("".concat(m,"/events/").concat(h.id),h,{headers:{"x-access-token":e}}).then((function(e){t(e)})).catch((function(e){n(e)}))})).then((function(){W.a.fire("Modifi\xe9!","L'\xe9venement est modifi\xe9","success"),p(null),I()})).catch((function(){W.a.fire("Erreur!","Une erreur est survenue","error")}))}))},children:[Object(b.jsxs)("fieldset",{className:"space-y-5",children:[Object(b.jsx)("legend",{className:"sr-only",children:"Notifications"}),Object(b.jsxs)("div",{className:"relative flex items-start",children:[Object(b.jsx)("div",{className:"flex items-center h-5",children:Object(b.jsx)("input",{id:"active_music_request","aria-describedby":"comments-description",name:"active_music_request",type:"checkbox",onChange:function(e){p(Object(j.a)(Object(j.a)({},h),{},Object(X.a)({},e.target.name,!h.active_music_request)))},defaultChecked:1===h.active_music_request,className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"})}),Object(b.jsxs)("div",{className:"ml-3 text-sm",children:[Object(b.jsx)("label",{htmlFor:"comments",className:"font-medium text-gray-700 dark:text-white",children:"Music Request"}),Object(b.jsx)("p",{id:"comments-description",className:"text-gray-500 dark:text-gray-400"})]})]}),Object(b.jsxs)("div",{className:"relative flex items-start",children:[Object(b.jsx)("div",{className:"flex items-center h-5",children:Object(b.jsx)("input",{onChange:function(e){p(Object(j.a)(Object(j.a)({},h),{},Object(X.a)({},e.target.name,!h.active_wall_picture)))},defaultChecked:1===h.active_wall_picture,id:"active_wall_picture","aria-describedby":"active_wall_picture",name:"active_wall_picture",type:"checkbox",className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"})}),Object(b.jsxs)("div",{className:"ml-3 text-sm",children:[Object(b.jsx)("label",{htmlFor:"candidates",className:"font-medium text-gray-700 dark:text-white",children:"Wall Picture"}),Object(b.jsx)("p",{id:"candidates-description",className:"text-gray-500 dark:text-gray-400"})]})]})]}),Object(b.jsx)("button",{type:"submit",className:"mt-3 w-full inline-flex items-center justify-center px-4 py-2 border border-transparent shadow-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-5  sm:w-auto sm:text-sm",children:"Modifier"})]})})]})}):null,s?null===h||void 0===h?Object(b.jsx)("div",{className:"bg-white dark:bg-gray-700 shadow sm:rounded-lg",children:Object(b.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[Object(b.jsx)("h3",{className:"text-lg leading-6 font-medium dark:text-white text-gray-900",children:"Nouvel Event"}),Object(b.jsx)("div",{className:"mt-2 max-w-xl text-sm text-gray-500",children:Object(b.jsx)("p",{children:"Saisir le titre de l'\xe9venement. Attention celui-ci sera affich\xe9 sur la page d'accueil."})}),Object(b.jsxs)("form",{className:"mt-5 ",onSubmit:function(e){return function(e){e.preventDefault(),ee.fire({title:"\xcates-vous s\xfbr de vouloir cr\xe9er l'\xe9venement ".concat(l.name,"?"),showCancelButton:!0,confirmButtonText:"Valider",cancelButtonText:"Annuler"}).then((function(e){e.isConfirmed&&(u.a.post("".concat(m,"/events"),{name:l.name,active_music_request:l.active_music_request,active_wall_picture:l.active_wall_picture,uuid:Object($.a)()}).catch((function(e){console.log(e)})),W.a.fire("Cr\xe9er!","","success"),I())}))}(e)},children:[Object(b.jsxs)("div",{className:"w-full sm:max-w-xs",children:[Object(b.jsx)("label",{htmlFor:"name",className:"sr-only",children:"Nom de l'\xe9venement"}),Object(b.jsx)("input",{required:!0,onChange:function(e){return d(Object(j.a)(Object(j.a)({},l),{},{name:e.target.value}))},type:"text",name:"eventName",id:"eventName",className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:"Romain's birthday"})]}),Object(b.jsx)("div",{className:"",children:Object(b.jsxs)("fieldset",{className:"space-y-5",children:[Object(b.jsx)("legend",{className:"sr-only",children:"Notifications"}),Object(b.jsxs)("div",{className:"relative flex items-start",children:[Object(b.jsx)("div",{className:"flex items-center h-5",children:Object(b.jsx)("input",{id:"comments","aria-describedby":"comments-description",onChange:function(e){return d(Object(j.a)(Object(j.a)({},l),{},{active_music_request:e.target.checked}))},name:"comments",type:"checkbox",className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"})}),Object(b.jsxs)("div",{className:"ml-3 text-sm",children:[Object(b.jsx)("label",{htmlFor:"comments",className:"font-medium text-gray-700 dark:text-white",children:"Music Request"}),Object(b.jsx)("p",{id:"comments-description",className:"text-gray-500 dark:text-gray-400",children:"Get notified when someones posts a comment on a posting."})]})]}),Object(b.jsxs)("div",{className:"relative flex items-start",children:[Object(b.jsx)("div",{className:"flex items-center h-5",children:Object(b.jsx)("input",{id:"candidates","aria-describedby":"candidates-description",onChange:function(e){return d(Object(j.a)(Object(j.a)({},l),{},{active_wall_picture:e.target.checked}))},name:"candidates",type:"checkbox",className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"})}),Object(b.jsxs)("div",{className:"ml-3 text-sm",children:[Object(b.jsx)("label",{htmlFor:"candidates",className:"font-medium text-gray-700 dark:text-white",children:"Wall Picture"}),Object(b.jsx)("p",{id:"candidates-description",className:"text-gray-500 dark:text-gray-400",children:"Get notified when a candidate applies for a job."})]})]})]})}),Object(b.jsx)("button",{type:"submit",className:"mt-3 w-full inline-flex items-center justify-center px-4 py-2 border border-transparent shadow-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-5  sm:w-auto sm:text-sm",children:"Cr\xe9er"})]})]})}):Object(b.jsx)("div",{className:"bg-white dark:bg-gray-700 shadow sm:rounded-lg my-2.5",children:Object(b.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[Object(b.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white",children:"Suppression"}),Object(b.jsx)("div",{className:"mt-2 max-w-xl text-sm text-gray-500 dark:text-gray-200",children:Object(b.jsx)("p",{children:"En supprimant l'\xe9venement vous supprimer toutes les donn\xe9es li\xe9es."})}),Object(b.jsx)("div",{className:"mt-5",children:Object(b.jsx)("button",{onClick:function(){return function(){var e=localStorage.getItem("token");ee.fire({title:"\xcates-vous sur ?",text:"Cela entra\xeenera la suppression des donn\xe9es",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Oui, je suis sur !"}).then((function(t){t.isConfirmed&&new Promise((function(t,n){u.a.delete("".concat(m,"/events/remove/all"),{headers:{"x-access-token":e}}).then((function(e){t(e)})).catch((function(e){n(e)}))})).then((function(){W.a.fire("Suprim\xe9!","L'\xe9venement est supprim\xe9","success"),p(null),I()})).catch((function(){W.a.fire("Erreur!","Une erreur est survenue","error")}))}))}()},type:"button",className:"inline-flex items-center justify-center px-4 py-2 border border-transparent font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:text-sm dark:bg-red-800 dark:text-red-200",children:"Supprimer l'\xe9venement"})})]})}):null,null===h||void 0===h?null:Object(b.jsx)("div",{className:"bg-white dark:bg-gray-700 shadow sm:rounded-lg my-2.5",children:Object(b.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[Object(b.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white",children:"Image d'en-tete"}),Object(b.jsx)("div",{className:"mt-2 max-w-xl text-sm text-gray-500 dark:text-gray-200",children:Object(b.jsx)("p",{children:"Modifier l'image d'en-t\xeate"})}),Object(b.jsxs)("div",{className:"flex justify-between flex-col sm:flex-row",children:[Object(b.jsxs)("form",{className:"mt-5 flex items-center space-x-4",onSubmit:function(e){return _(e)},children:[Object(b.jsxs)("div",{className:" sm:max-w-xs",children:[Object(b.jsxs)("label",{htmlFor:"file-upload",className:null!==v.file?"flex justify-between items-center cursor-pointer px-4 py-2 border-2 border-green-600 rounded-md w-28 ":"flex justify-between items-center cursor-pointer px-4 py-2 border-2 border-gray-300 rounded-md w-28 ",children:[Object(b.jsx)("i",{className:"",children:null!==v.file?Object(b.jsx)(Z.a,{size:20,className:"text-green-600"}):Object(b.jsx)(U.b,{size:20,className:"text-gray-600"})}),Object(b.jsx)("span",{className:null!==v.file?"text-green-600":"text-gray-600",children:"Upload"})]}),Object(b.jsx)("input",{accept:".png,.jpeg,.gif,.jpg",onChange:function(e){!function(e){if(void 0!==e.target.files[0]){var t=new FileReader,n=e.target.files[0];t.onloadend=function(){y({file:n,imagePreviewUrl:t.result})},C(n),t.readAsDataURL(n)}else y({file:null,imagePreviewUrl:null})}(e)},id:"file-upload",type:"file",className:"hidden"})]}),Object(b.jsx)("button",{disabled:null===v.file,type:"submit",className:null!==v.file?"text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 inline-flex items-center justify-center px-4 py-2 border border-transparent font-medium rounded-md sm:ml-3 sm:w-auto sm:text-sm":" cursor-not-allowed text-white bg-gray-400 inline-flex items-center justify-center px-4 py-2 border border-transparent font-medium rounded-md sm:ml-3 sm:w-auto sm:text-sm",children:"Modifier"})]}),null!==k||void 0!==k?Object(b.jsx)("img",{alt:"banniere",className:"w-52 rounded-sm mt-2 sm:mt-0 self-center",src:v.imagePreviewUrl?v.imagePreviewUrl:null!==h.bg_music?"/uploads/".concat(h.bg_music):S}):null]})]})})]})};function ne(){return Object(b.jsxs)("div",{className:"bg-white h-full flex flex-col lg:relative",children:[Object(b.jsx)("div",{className:"flex-grow flex flex-col",children:Object(b.jsx)("main",{className:"flex-grow flex flex-col bg-white",children:Object(b.jsxs)("div",{className:"flex-grow mx-auto max-w-7xl w-full flex flex-col px-4 sm:px-6 lg:px-8",children:[Object(b.jsx)("div",{className:"flex-shrink-0 pt-10 sm:pt-16",children:Object(b.jsxs)("a",{href:"/",className:"inline-flex",children:[Object(b.jsx)("span",{className:"sr-only",children:"Workflow"}),Object(b.jsx)("img",{className:"h-12 w-auto",src:"https://tailwindui.com/img/logos/workflow-mark.svg?color=indigo&shade=600",alt:""})]})}),Object(b.jsxs)("div",{className:"flex-shrink-0 my-auto py-16 sm:py-32",children:[Object(b.jsx)("p",{className:"text-sm font-semibold text-indigo-600 uppercase tracking-wide",children:"En Construction"}),Object(b.jsx)("p",{className:"mt-2 text-base text-gray-500",children:"Cette page sera bient\xf4t disponible"})]})]})})}),Object(b.jsx)("div",{className:"hidden lg:block lg:absolute lg:inset-y-0 lg:right-0 lg:w-1/2",children:Object(b.jsx)("img",{className:"absolute inset-0 h-full w-full object-cover",src:"https://images.unsplash.com/photo-1470847355775-e0e3c35a9a2c?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1825&q=80",alt:""})})]})}var ce=function(){return Object(b.jsx)("div",{className:"h-86",children:Object(b.jsx)(ne,{})})},se=n(172),ae=Y()(W.a),ie=[{id:1,path:"/dashboard/music",name:"Musique",icon:"mdi mdi-pencil-circle",redirect:!1,component:Q},{id:2,path:"/dashboard/picture",name:"Photo",icon:"mdi mdi-pencil-circle",redirect:!1,component:ce},{id:3,path:"/dashboard/event",name:"Event",icon:"mdi mdi-pencil-circle",redirect:!1,component:te},{id:4,path:"/dashboard/visitor",name:"Visiteur",icon:"mdi mdi-pencil-circle",redirect:!1,component:function(){var e=localStorage.getItem("token"),t=Object(c.useState)([]),n=Object(r.a)(t,2),s=n[0],a=n[1];return Object(c.useEffect)((function(){u.a.get("".concat(m,"/visitor")).then((function(e){a(e.data)})).catch((function(e){console.log(e)}))})),Object(b.jsxs)("div",{className:"flex flex-col",children:[Object(b.jsx)("div",{className:"w-full",children:Object(b.jsx)("div",{className:"flex justify-between mb-5"})}),Object(b.jsx)("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:Object(b.jsx)("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:Object(b.jsx)("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:Object(b.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[Object(b.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-700",children:Object(b.jsxs)("tr",{className:"text-gray-500 dark:text-gray-50",children:[Object(b.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Pseudo"}),Object(b.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Uuid"}),Object(b.jsx)("th",{scope:"col",className:"relative px-6 py-3",children:Object(b.jsx)("span",{className:"sr-only",children:"Edit"})})]})}),Object(b.jsx)("tbody",{className:"bg-white dark:bg-gray-400 dark:divide-white divide-y divide-gray-200",children:s.map((function(t){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{className:" py-4 whitespace-nowrap",children:Object(b.jsx)("div",{className:"flex items-center",children:Object(b.jsx)("div",{className:"ml-4",children:Object(b.jsx)("div",{className:"text-sm font-medium dark:text-white text-gray-900",children:t.pseudo})})})}),Object(b.jsx)("td",{className:" py-4 whitespace-nowrap",children:Object(b.jsx)("div",{className:"flex items-center",children:Object(b.jsx)("div",{className:"ml-4",children:Object(b.jsx)("div",{className:"text-sm font-medium dark:text-white text-gray-900",children:t.uuid})})})}),Object(b.jsx)("td",{className:" py-4 whitespace-nowrap ",children:Object(b.jsx)("div",{className:"flex items-center justify-center flex-wrap",children:Object(b.jsx)("div",{className:"text-indigo-600 hover:text-indigo-900 cursor-pointer mx-2 my-1",onClick:function(){return n=t.id,void ae.fire({title:"\xcates-vous s\xfbr de vouloir modifier la permission de ce visiteur ?",showCancelButton:!0,confirmButtonText:"Valider",cancelButtonText:"Annuler"}).then((function(t){if(t.isConfirmed){var c=s.findIndex((function(e){return n===e.id})),a=s[c].isNotAllowed;console.log(a),u.a.put("".concat(m,"/visitor/").concat(n),{isNotAllowed:1===a?0:1},{headers:{"x-access-token":e}}).then((function(){W.a.fire("Modifi\xe9!","","success")})).catch((function(e){W.a.fire("Erreur!","","error")}))}}));var n},children:Object(b.jsx)(se.a,{checked:!t.isNotAllowed})})})})]},t.id)}))})]})})})})]})}},{id:4,path:"/dashboard",pathTo:"/dashboard/music",name:"Dashboard",redirect:!0}];function re(){return Object(b.jsx)("div",{className:"min-h-screen bg-white dark:bg-gray-800",children:Object(b.jsx)("div",{className:"py-5",children:Object(b.jsx)("main",{children:Object(b.jsx)("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:Object(b.jsx)(l.d,{children:ie.map((function(e,t){return e.redirect?Object(b.jsx)(l.a,{from:e.path,to:e.pathTo},t):Object(b.jsx)(l.b,{path:e.path,component:e.component},t)}))})})})})})}var oe=n(42),le=(n(161),["component"]),de=function(e){var t=e.component,n=Object(oe.a)(e,le);return Object(b.jsx)(l.b,Object(j.a)(Object(j.a)({},n),{},{render:function(e){return Object(b.jsx)(c.Fragment,{children:Object(b.jsx)(t,Object(j.a)({},e))})}}))},ue=["component","isAuth"],me=function(e){var t=e.component,n=e.isAuth,s=Object(oe.a)(e,ue);return Object(b.jsx)("div",{children:Object(b.jsx)(l.d,{children:Object(b.jsx)(l.b,Object(j.a)(Object(j.a)({},s),{},{render:function(e){return!1===n?Object(b.jsx)(c.Fragment,{children:Object(b.jsx)(t,Object(j.a)(Object(j.a)({},s),e))}):Object(b.jsx)(l.a,{to:{pathname:"/dashboard",state:{from:e.location}}})}}),"index")})})},xe=n(171),je=function(){var e=Object(l.g)(),t=function(){localStorage.removeItem("token"),e.push("/")};return Object(b.jsx)(xe.a,{as:"nav",className:"bg-white border-b border-gray-200 dark:border-gray-700 dark:bg-gray-700",children:function(e){var n=e.open;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:Object(b.jsxs)("div",{className:"flex justify-between h-16",children:[Object(b.jsx)("div",{className:"flex",children:Object(b.jsx)("div",{className:"hidden sm:-my-px sm:ml-6 sm:flex sm:space-x-8",children:ie.filter((function(e){return!1===e.redirect})).map((function(e){return Object(b.jsx)(o.c,{to:e.path,className:"inline-flex items-center px-1 pt-1 border-b-2 border-gray-500 text-sm font-medium dark:text-white",activeClassName:"dark:border-white dark:text-white border-indigo-500 text-gray-900 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium","aria-current":e.current?"page":void 0,children:e.name},e.name)}))})}),Object(b.jsxs)("div",{className:"hidden sm:ml-6 sm:flex sm:items-center space-x-4",children:[Object(b.jsx)(k,{}),Object(b.jsx)("button",{onClick:function(){t()},type:"button",className:"bg-white dark:bg-transparent dark:text-white p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Deconnexion"})]}),Object(b.jsxs)("div",{className:"w-full flex items-center sm:hidden justify-between",children:[Object(b.jsxs)(xe.a.Button,{className:"bg-white dark:bg-gray-600 dark:text-white inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[Object(b.jsx)("span",{className:"sr-only",children:"Open main menu"}),n?Object(b.jsx)(O.b,{className:"block h-6 w-6","aria-hidden":"true"}):Object(b.jsx)(O.a,{className:"block h-6 w-6","aria-hidden":"true"})]}),Object(b.jsx)(k,{})]})]})}),Object(b.jsx)(g.a,{as:c.Fragment,enter:"transition ease-out duration-200",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:Object(b.jsx)(xe.a.Panel,{className:"sm:hidden",children:Object(b.jsx)("div",{className:"pt-4 pb-3 border-t border-gray-200",children:Object(b.jsxs)("div",{className:"mt-3 space-y-1",children:[ie.filter((function(e){return!1===e.redirect})).map((function(e){return Object(b.jsx)(o.c,{to:e.path,className:"block px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100",children:e.name},e.name)})),Object(b.jsx)("div",{className:"block px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100 cursor-pointer",onClick:function(){t()},children:"Deconnexion"})]})})})})]})}})},be=["component","isAuth"],fe=function(e){var t=e.component,n=e.isAuth,s=Object(oe.a)(e,be);return Object(b.jsx)("div",{children:Object(b.jsx)(l.d,{children:Object(b.jsx)(l.b,Object(j.a)(Object(j.a)({},s),{},{render:function(e){return n?Object(b.jsx)(l.b,Object(j.a)(Object(j.a)({},s),{},{render:function(e){return Object(b.jsxs)(c.Fragment,{children:[Object(b.jsx)(je,{}),Object(b.jsx)(t,Object(j.a)({},e))]})}})):Object(b.jsx)(l.a,{to:{pathname:"/login",state:{from:e.location}}})}}))})})},he=function(){var e=Object(l.g)(),t=Object(c.useState)(null),n=Object(r.a)(t,2),s=n[0],a=n[1];return Object(b.jsx)("div",{children:Object(b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:Object(b.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("img",{className:"mx-auto h-12 w-auto",src:"https://tailwindui.com/img/logos/workflow-mark-indigo-600.svg",alt:"Workflow"}),Object(b.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Music Request"}),Object(b.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:Object(b.jsx)("span",{className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Renseigner un pseudonyme"})})]}),Object(b.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:function(t){t.preventDefault(),function(){var t=Object($.a)();u.a.post("".concat(m,"/visitor"),{pseudo:s,isNotAllowed:!1,uuid:t}).then((function(t){var n={id:t.data.id,uuid:t.data.uuid,pseudo:t.data.pseudo};localStorage.setItem("usInfoMusic",JSON.stringify(n)),e.push("/app")})).catch((function(e){console.log(e)}))}()},children:[Object(b.jsx)("input",{type:"hidden",name:"remember",value:"true"}),Object(b.jsx)("div",{className:"rounded-md shadow-sm -space-y-px",children:Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"email-address",className:"sr-only",children:"pseudonyme"}),Object(b.jsx)("input",{onChange:function(e){a(e.target.value)},id:"pseudo",name:"pseudo",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Pseudo"})]})}),Object(b.jsx)("div",{children:Object(b.jsxs)("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[Object(b.jsx)("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3"}),"Entrer"]})})]})]})})})};var pe=function(){var e=Object(c.useState)(!1),t=Object(r.a)(e,2),n=t[0],s=t[1];return Object(c.useEffect)((function(){!function(){var e=localStorage.getItem("token");e?(console.log("il y a un token"),u.a.get("".concat(m,"/login/isuserauth"),{headers:{"x-access-token":e}}).then((function(e){!0===e.data.auth?s(!0):localStorage.removeItem("token")})).catch((function(e){console.log(e)}))):console.log("il ny a pas de token")}()}),[]),Object(b.jsx)("div",{className:"",children:Object(b.jsx)(o.a,{children:Object(b.jsxs)(l.d,{children:[Object(b.jsx)(l.a,{exact:!0,path:"/",to:"/app"}),Object(b.jsx)(de,{path:"/app",component:q}),Object(b.jsx)(de,{exact:!0,path:"/new",component:he}),Object(b.jsx)(me,{path:"/login",component:D,isAuth:n}),Object(b.jsx)(fe,{path:"/dashboard",component:re,isAuth:n})]})})})},ge=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,177)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),s(e),a(e),i(e)}))};i.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(pe,{})}),document.getElementById("root")),ge()},55:function(e,t){e.exports={removeInput:function(e){e.forEach((function(e){document.getElementById(e).value=""}))}}}},[[162,1,2]]]);
//# sourceMappingURL=main.9270b875.chunk.js.map