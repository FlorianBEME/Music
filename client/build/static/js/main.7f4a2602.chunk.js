(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{125:function(e,t,n){},181:function(e,t,n){},182:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),a=n(60),i=n.n(a),r=(n(125),n(4)),o=n(20),l=n(14),d=n(7),u=n.n(d),m="http://localhost:8000/api",x=n(43),j=n.n(x),f=n(110),b=n(65),h=n(114),g=n(2);function p(e){var t=e.footerItem;return Object(g.jsx)("footer",{className:"bg-white dark:bg-gray-700",children:Object(g.jsxs)("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 md:flex md:items-center md:justify-between lg:px-8",children:[Object(g.jsx)("div",{className:"flex justify-center space-x-6 md:order-2",children:t.map((function(e){return Object(g.jsxs)("a",{target:"_blank",rel:"noreferrer",href:e.path_to,className:"text-gray-400 hover:text-gray-500",children:[Object(g.jsx)("span",{className:"sr-only",children:e.name}),Object(g.jsx)("img",{src:e.filePath,className:"h-6 w-6",alt:e.name})]},e.name)}))}),Object(g.jsx)("div",{className:"mt-8 md:mt-0 md:order-1",children:Object(g.jsx)("p",{className:"text-center text-base text-gray-400",children:"Copyright"})})]})})}var O=n(205),v=n(201),y=n(53);var w=n(204),N=n(111),k=n(51);function S(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}function C(){var e=function(){var e=localStorage.getItem("MusicRequestThemePreference"),t=Object(c.useState)(e),n=Object(r.a)(t,2),s=n[0],a=n[1],i="light"===s?"dark":"light";return Object(c.useEffect)((function(){var e=window.document.documentElement;e.classList.remove(i),e.classList.add(s),localStorage.setItem("MusicRequestThemePreference",s)}),[i,s]),[i,a,s]}(),t=Object(r.a)(e,3),n=t[0],s=t[1],a=t[2];return Object(g.jsxs)(w.a,{checked:"dark"===a,onChange:function(){s(n)},className:S("dark"===a?"bg-blue-700":"bg-gray-200","relative inline-flex flex-shrink-0 h-5 w-10 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200"),children:[Object(g.jsx)("span",{className:"sr-only",children:"Use setting"}),Object(g.jsxs)("span",{className:S("dark"===a?"translate-x-5":"translate-x-0","pointer-events-none relative inline-block h-4 w-4 rounded-full bg-white shadow transform ring-0 transition ease-in-out duration-200"),children:[Object(g.jsx)("span",{className:S("dark"===a?"opacity-0 ease-out duration-100":"opacity-100 ease-in duration-200","absolute inset-0 h-full w-full flex items-center justify-center transition-opacity"),"aria-hidden":"true",children:Object(g.jsx)(N.a,{className:"text-gray-400"})}),Object(g.jsx)("span",{className:S("dark"===a?"opacity-100 ease-in duration-200":"opacity-0 ease-out duration-100","absolute inset-0 h-full w-full flex items-center justify-center transition-opacity"),"aria-hidden":"true",children:Object(g.jsx)(k.b,{className:"h-3 w-3 text-indigo-600"})})]})]})}function _(e){var t=e.active_music_request,n=e.changeComponent,s=e.active_wall_picture;return Object(g.jsxs)(O.a,{className:" ",children:[Object(g.jsxs)("div",{className:"flex justify-between items-center px-4 py-6 sm:px-6 md:justify-start md:space-x-10",children:[Object(g.jsx)("div",{className:"-mr-2 -my-2 md:hidden flex justify-between w-full",children:Object(g.jsxs)(O.a.Button,{className:"bg-indigo-600 dark:bg-gray-600 rounded-md p-2 inline-flex items-center justify-center text-white dark:text-white hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500",children:[Object(g.jsx)("span",{className:"sr-only",children:"Open menu"}),Object(g.jsx)(y.a,{className:"h-6 w-6","aria-hidden":"true"})]})}),Object(g.jsxs)("div",{className:"hidden md:flex-1 md:flex md:items-center md:justify-between",children:[Object(g.jsxs)(O.a.Group,{as:"nav",className:"flex space-x-10",children:[t?Object(g.jsx)("div",{onClick:function(){n("music")},className:"text-base font-medium text-gray-500 hover:text-gray-900 cursor-pointer",children:"Music Request"}):null,s?Object(g.jsx)("div",{onClick:function(){n("picture")},className:"text-base font-medium text-gray-500 hover:text-gray-900 cursor-pointer",children:"Wall Picture"}):null]}),Object(g.jsx)("div",{className:"flex items-center md:ml-12 cursor-pointer",children:Object(g.jsx)(C,{})})]})]}),Object(g.jsx)(v.a,{as:c.Fragment,enter:"duration-200 ease-out",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"duration-100 ease-in",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:Object(g.jsx)(O.a.Panel,{focus:!0,className:"absolute top-0 inset-x-0 p-2 transition transform origin-top-right md:hidden",children:Object(g.jsxs)("div",{className:"dark:bg-gray-800 rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 bg-white divide-y-2 divide-gray-50 dark:divide-gray-600",children:[Object(g.jsx)("div",{className:"pt-5 pb-6 px-5",children:Object(g.jsx)("div",{className:"flex items-center justify-between",children:Object(g.jsxs)("div",{className:"-mr-2 flex justify-between w-full items-center",children:[Object(g.jsxs)(O.a.Button,{className:" dark:text-white rounded-md p-2 inline-flex items-center justify-center text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500",children:[Object(g.jsx)("span",{className:"sr-only",children:"Close menu"}),Object(g.jsx)(y.b,{className:"h-6 w-6","aria-hidden":"true"})]}),Object(g.jsx)(C,{})]})})}),Object(g.jsx)("div",{className:"py-6 px-5",children:Object(g.jsxs)("div",{className:"flex flex-col space-y-3",children:[t?Object(g.jsx)("div",{className:"text-base text-gray-900 hover:text-gray-700 dark:text-white cursor-pointer",onClick:function(){n("music")},children:Object(g.jsx)(O.a.Button,{children:"Music Request"})}):null,s?Object(g.jsx)("div",{className:"text-base  text-gray-900 hover:text-gray-700 dark:text-white cursor-pointer",onClick:function(){n("picture")},children:Object(g.jsx)(O.a.Button,{children:" Wall Picture"})}):null]})})]})})})]})}var I=n.p+"static/media/musicbandeau.2e60f5b1.jpg";var E=function(){return Object(g.jsx)("div",{children:"Photo"})},T=n(11),B=n(23),P=(n(75),function(e){console.log(e),e.forEach((function(e){document.getElementById(e).value=""}))}),V=n(112),M=n.n(V)()("http://localhost:8000/"),A=function(e){if(!M)return!0;M.on("musicupdate",(function(){return console.log("musicupdate: j'ai bien recu et je met a jour"),e("musicupdate")})),M.on("title",(function(){return console.log("title: j'ai bien recu et je met a jour"),e("musicupdate")})),M.on("titleupdate",(function(){return console.log("titleupdate: j'ai bien recu et je met a jour"),e("title")})),M.on("visitorallowed",(function(){return console.log("visitorallowed: j'ai bien recu et je met a jour"),e("visitorallowed")})),M.on("userupdate",(function(){return console.log("userupdate: j'ai bien recu et je met a jour"),e("userupdate")})),M.on("event",(function(){return console.log("event: j'ai bien recu et je met a jour"),e("event")})),M.on("settitle",(function(){return console.log("TitleEvent: j'ai bien recu et je met a jour"),e("settitle")})),M.on("pop",(function(){return console.log("Pop: j'ai bien recu et je met a jour"),e("pop")})),M.on("footer",(function(){return console.log("Footer: j'ai bien recu et je met a jour"),e("footer")}))},F=function(e,t){M.emit(e,t)},q=function(e){var t=e.visitorInfo,n=e.isAllowed,s=e.songs,a=e.refetch,i=Object(c.useState)({title:"",artist:"",countVote:null,unavailable:0,isValid:0,isNew:1,visitor_id:null}),o=Object(r.a)(i,2),l=o[0],d=o[1];return Object(g.jsx)("div",{className:"max-w-lg mx-auto lg:max-w-none  ",children:Object(g.jsxs)("form",{onSubmit:function(e){return function(e){if(e.preventDefault(),console.log(t),n){var c=[];s.forEach((function(e){e.artist.toLowerCase()===l.artist.toLowerCase()&&c.push(e)})),c.filter((function(e){return e.title.toLowerCase()===l.title.toLowerCase()})).length<1?u.a.post("".concat(m,"/currentsongs"),Object(T.a)(Object(T.a)({},l),{},{visitor_id:t,countVote:0})).then((function(){B.a.success("Musique envoy\xe9!",{position:B.a.POSITION.TOP_RIGHT}),F("update","musiclist"),a(),P(["title","artist"])})).catch((function(e){B.a.error("Erreur",{position:B.a.POSITION.TOP_RIGHT}),console.log(e)})):B.a.error("Chanson d\xe9ja dans la liste",{position:B.a.POSITION.TOP_RIGHT})}else B.a.error("Vous n'\xeates pas autoris\xe9!",{position:B.a.POSITION.TOP_RIGHT})}(e)},className:"flex flex-col justify-center items-center space-y-4",children:[Object(g.jsxs)("div",{className:"flex flex-col space-y-3 sm:space-x-4 sm:space-y-0 sm:flex-row",children:[Object(g.jsxs)("div",{children:[Object(g.jsx)("label",{htmlFor:"title",className:"sr-only",children:"Titre"}),Object(g.jsx)("input",{required:!0,type:"text",name:"title",id:"title",autoComplete:"title",className:"block w-full shadow-sm py-3 px-4 placeholder-gray-500 focus:ring-indigo-500 focus:border-indigo-500 border border-gray-300 rounded-md",placeholder:"Titre",onChange:function(e){return function(e){d(Object(T.a)(Object(T.a)({},l),{},{title:e.target.value}))}(e)}})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("label",{htmlFor:"email",className:"sr-only",children:"Artiste"}),Object(g.jsx)("input",{required:!0,id:"artist",name:"artist",type:"artist",autoComplete:"artist",className:"block w-full shadow-sm py-3 px-4 placeholder-gray-500 focus:ring-indigo-500 focus:border-indigo-500 border border-gray-300 rounded-md",placeholder:"Artiste",onChange:function(e){return function(e){d(Object(T.a)(Object(T.a)({},l),{},{artist:e.target.value}))}(e)}})]})]}),Object(g.jsx)("div",{children:Object(g.jsx)("button",{type:"submit",className:"inline-flex justify-center py-3 px-6 border border-transparent shadow-sm text-base font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Envoyer"})})]})})},D=function(e,t,n){return"indispo"===n?e.unavailable?-1:1:"valid\xe9"===n?e.isValid?-1:1:"voteup"===n?e.countVote>t.countVote?-1:1:void 0};function L(e){var t=e.isAllowed,n=e.refetch,s=e.songs,a=e.isLoading;var i=function(){var e=Object(c.useState)(0),t=Object(r.a)(e,2),n=(t[0],t[1]);return function(){return n((function(e){return e+1}))}}(),o=function(e){var t=localStorage.getItem("idMusicVoting");return null!==t&&t.includes(e)},l=Object(c.useState)(""),d=Object(r.a)(l,2),x=d[0],j=d[1];return Object(g.jsxs)("div",{children:[s&&s.length>0?Object(g.jsxs)("div",{className:"flex items-center justify-end space-x-2 my-4 ",children:[Object(g.jsx)("label",{htmlFor:"location",className:"block text-xs font-medium text-gray-700 dark:text-gray-200",children:"Trier:"}),Object(g.jsxs)("select",{defaultValue:"",id:"location",name:"location",className:"mt-1 block  pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",onChange:function(e){j(e.target.value)},children:[Object(g.jsx)("option",{disabled:!0}),Object(g.jsx)("option",{value:"indispo",children:"Indisponible"}),Object(g.jsx)("option",{value:"valid\xe9",children:"Valid\xe9"}),Object(g.jsx)("option",{value:"voteup",children:"Top vote"})]})]}):null,Object(g.jsx)("div",{className:"bg-white dark:bg-gray-700 shadow overflow-hidden sm:rounded-md",children:Object(g.jsx)("ul",{className:"divide-y divide-gray-200 dark:divide-gray-500",children:a?s.sort((function(e,t){return D(e,t,x)})).map((function(e){return Object(g.jsxs)("li",{className:" flex items-center justify-between px-4 py-4 sm:px-6 flex-col md:flex-row",children:[Object(g.jsxs)("div",{className:"flex sm:w-80 flex-col items-center md:items-start text-gray-800 dark:text-gray-100",children:[Object(g.jsx)("p",{className:" text-sm font-medium break-all text-center md:text-left",children:e.title}),Object(g.jsx)("p",{className:" text-sm font-medium break-all text-center md:text-left",children:e.artist}),Object(g.jsxs)("p",{className:" text-sm font-light break-all text-center md:text-left",children:["Propos\xe9 par"," ",Object(g.jsx)("span",{className:"capitalize",children:e.pseudo})]})]}),Object(g.jsxs)("div",{className:e.countVote>=0?"justify-between w-full sm:w-auto items-center flex flex-row mt-2 md:mt-0":"justify-center w-full sm:w-auto items-center flex flex-row mt-2 md:mt-0",children:[e.countVote>=0?Object(g.jsx)("div",{className:"px-4 ",children:Object(g.jsxs)("p",{className:"capitalize text-sm font-medium text-gray-500 dark:text-gray-400",children:["Vote: ",e.countVote]})}):null,Object(g.jsx)("div",{className:"min-w-0  flex items-center",children:Object(g.jsx)("div",{className:"min-w-0  px-4 md:grid md:grid-cols-3 md:gap-4",children:e.isNew?o(e.id)?Object(g.jsx)("div",{className:"w-full md:w-28 col-start-2 col-span-2 inline-flex items-center justify-center px-8 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-gray-400 bg-gray-100",children:"Vot\xe9!"}):Object(g.jsx)("button",{onClick:function(){return function(e,c){if(t){var s=c+1;u.a.put("".concat(m,"/currentSongs/").concat(e),{countVote:s}).then((function(t){if(null===localStorage.getItem("idMusicVoting")&&null===localStorage.getItem("date"))localStorage.setItem("idMusicVoting",JSON.stringify(e));else{var c=localStorage.getItem("idMusicVoting");if(null!==c){var s=c.split(",");s.push(e.toString()),localStorage.removeItem("idMusicVoting"),localStorage.setItem("idMusicVoting",JSON.stringify(s))}}F("update","musiclist"),n()})),i()}else B.a.error("Vous n'\xeates pas autoris\xe9!",{position:B.a.POSITION.TOP_RIGHT})}(e.id,e.countVote)},type:"button",className:"w-full md:w-28 col-start-2 col-span-2 inline-flex items-center justify-center px-8 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Voter"}):e.unavailable?Object(g.jsx)("div",{className:"w-full md:w-28 col-start-2 col-span-2 inline-flex items-center justify-center px-8 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-yellow-600 bg-yellow-100",children:Object(g.jsx)("div",{children:"Indisponible"})}):e.isValid?Object(g.jsx)("div",{className:"w-full md:w-28 col-start-2 col-span-2 inline-flex items-center justify-center px-8 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-green-600 bg-green-100",children:Object(g.jsx)("div",{children:"Valid\xe9"})}):null})})]})]},e.id)})):null})})]})}function R(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(!1),i=Object(r.a)(a,2),o=i[0],d=i[1],x=Object(c.useState)(""),j=Object(r.a)(x,2),f=j[0],b=j[1],h=Object(c.useState)(!0),p=Object(r.a)(h,2),O=p[0],v=p[1],y=Object(l.g)(),w=JSON.parse(localStorage.getItem("usInfoMusic")||"{}");w||y.push("/new");var N=function(){u.a.get("".concat(m,"/currentSongs")).then((function(e){s(e.data),d(!0)})).catch((function(e){console.log(e)}))};Object(c.useEffect)((function(){N()}),[]);var k=function(){u.a.get("".concat(m,"/app/app")).then((function(e){b(e.data.app.titleincurent)})).catch((function(e){console.log(e)}))};return Object(c.useEffect)((function(){k()}),[f]),Object(c.useEffect)((function(){u.a.get("".concat(m,"/visitor/").concat(w.id)).then((function(e){e.data[0].isNotAllowed?v(!1):v(!0)})).catch((function(e){console.log(e)}))}),[w]),Object(c.useEffect)((function(){A((function(e){"visitorallowed"===e?u.a.get("".concat(m,"/visitor/").concat(w.id)).then((function(e){e.data[0].isNotAllowed?v(!1):v(!0)})).catch((function(e){console.log(e)})):"musicupdate"===e?N():"title"===e&&k()}))}),[w.id]),Object(g.jsx)("div",{className:"pb-8 mx-auto px-4 sm:px-6 lg:px-8  lg:rounded-md bg-white dark:bg-gray-900 shadow sm:mb-8",children:Object(g.jsxs)("div",{className:"max-w-3xl mx-auto",children:[Object(g.jsx)("div",{className:"px-4 py-5 border-b border-gray-200 dark:border-gray-400 sm:px-6",children:Object(g.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-100",children:f})}),Object(g.jsx)("div",{className:"pt-8 px-4 sm:px-6 lg:col-span-3  lg:px-8 xl:pl-12 border-b border-gray-200 dark:border-gray-400 py-5",children:Object(g.jsx)(q,{songs:n,isAllowed:O,refetch:N,visitorInfo:w?w.id:null})}),Object(g.jsx)(L,{refetch:N,isLoading:o,songs:n,isAllowed:O})]})})}var U=n(9),z=n.n(U);function G(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}var H=function(){var e=Object(l.g)(),t=Object(c.useState)([]),n=Object(r.a)(t,2),s=n[0],a=n[1],i=Object(c.useState)(!1),d=Object(r.a)(i,2),x=d[0],O=d[1],v=Object(c.useState)(),y=Object(r.a)(v,2),w=y[0],N=y[1],k=Object(c.useState)("center"),S=Object(r.a)(k,2),C=S[0],T=S[1],B=Object(c.useState)("#ffffff"),P=Object(r.a)(B,2),V=P[0],M=P[1],F=Object(c.useState)([]),q=Object(r.a)(F,2),D=q[0],L=q[1],U=Object(c.useState)([]),H=Object(r.a)(U,2),J=H[0],W=H[1],Y=function(e){N(e)},K=function(){u.a.get("".concat(m,"/app/app")).then((function(e){T(e.data.titleEventappStyle.position),M(e.data.titleEventappStyle.color)})).catch((function(e){console.log(e)}))},Q=function(){u.a.get("".concat(m,"/pop/available")).then((function(e){console.log(e.data),L(e.data)})).catch((function(e){console.log(e)}))};return Object(c.useEffect)((function(){Q()}),[]),Object(c.useEffect)((function(){K()}),[]),Object(c.useEffect)((function(){u.a.get("".concat(m,"/footer")).then((function(e){var t=e.data.filter((function(e){return e.isActivate}));W(t)})).catch((function(e){console.log(e)}))}),[]),Object(c.useEffect)((function(){var t=new Promise((function(e,t){if(localStorage.getItem("usInfoMusic")){var n=localStorage.getItem("usInfoMusic"),c=JSON.parse(n);u.a.post("".concat(m,"/visitor/").concat(c.id),{uuid:c.uuid}).then((function(n){n.data.status?e():(localStorage.removeItem("usInfoMusic"),t())})).catch((function(e){console.log(e),t()}))}else t()})),n=localStorage.getItem("uuidEvent");u.a.get("".concat(m,"/events")).then((function(c){if(c.data.length>0){var s=c.data;a(s),s[0].uuid===n&&n||(localStorage.removeItem("idMusicVoting"),localStorage.removeItem("usInfoMusic"),localStorage.removeItem("popid"),localStorage.setItem("uuidEvent",s[0].uuid)),t.then((function(e){u.a.get("".concat(m,"/events")).then((function(e){a(e.data),setTimeout((function(){O(!0)}),2e3)})).catch((function(e){console.log(e)}))})).catch((function(t){e.push("/new")}))}else localStorage.removeItem("idMusicVoting"),localStorage.removeItem("usInfoMusic"),localStorage.removeItem("uuidEvent"),localStorage.removeItem("popid"),O(!0)}))}),[e]),Object(c.useEffect)((function(){x&&s.length>0&&(s[0].active_music_request?Y("music"):!s[0].active_music_request&&s[0].active_wall_picture&&Y("picture"))}),[s,x]),Object(c.useEffect)((function(){A((function(t){"event"===t?e.go(0):"settitle"===t?K():"pop"===t&&Q()}))}),[e]),Object(c.useEffect)((function(){var e=[],t=localStorage.getItem("popid");t&&t.split(",").forEach((function(t){e.push(parseInt(t))}));function n(){return(n=Object(b.a)(j.a.mark((function t(){var n,c,s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Object(f.a)(D),t.prev=1,s=j.a.mark((function t(){var n,s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=c.value,s=n,e.includes(s.id)){t.next=10;break}if(s.filePath){t.next=8;break}return t.next=6,z.a.fire({title:s.title,text:s.text_content,confirmButtonText:"Ok! "}).then((function(t){t.isConfirmed&&(e.push(s.id),localStorage.setItem("popid",e.toString()))}));case 6:t.next=10;break;case 8:return t.next=10,z.a.fire({title:s.title,text:s.text_content,confirmButtonText:"Ok!",imageUrl:s.filePath,imageWidth:400,imageHeight:200,imageAlt:s.title}).then((function(t){t.isConfirmed&&(e.push(s.id),localStorage.setItem("popid",e.toString()))}));case 10:case"end":return t.stop()}}),t)})),n.s();case 4:if((c=n.n()).done){t.next=8;break}return t.delegateYield(s(),"t0",6);case 6:t.next=4;break;case 8:t.next=13;break;case 10:t.prev=10,t.t1=t.catch(1),n.e(t.t1);case 13:return t.prev=13,n.f(),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[1,10,13,16]])})))).apply(this,arguments)}setTimeout((function(){D.length>=1&&function(){n.apply(this,arguments)}()}),8e3)}),[D]),Object(g.jsx)("div",{children:x?s.length>0?Object(g.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 min-h-screen flex flex-col justify-between",children:[Object(g.jsxs)("div",{className:"flex flex-col",children:[Object(g.jsxs)("div",{className:"relative h-32",children:[Object(g.jsx)("div",{className:"absolute inset-0",children:x?Object(g.jsx)("img",{className:"w-full h-full object-cover",src:s.length>0&&null!==s[0].bg_music?"/uploads/".concat(s[0].bg_music):I,alt:"banniere"}):null}),Object(g.jsx)("div",{className:"relative max-w-7xl mx-auto h-32 sm:px-8 px-2",children:Object(g.jsx)("div",{className:G("center"===C?"justify-center":"left"===C?"justify-start":"justify-end","flex items-center h-full"),children:Object(g.jsx)("h1",{className:"text-4xl font-extrabold tracking-tight sm:text-5xl ",style:{color:V},children:s[0].name})})})]}),Object(g.jsx)(_,{active_wall_picture:s[0].active_wall_picture,active_music_request:s[0].active_music_request,changeComponent:Y}),Object(g.jsx)("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8 ",children:"music"===w?Object(g.jsx)(R,{}):"picture"===w?Object(g.jsx)(E,{}):void 0})]}),Object(g.jsx)(p,{footerItem:J})]}):Object(g.jsx)("div",{className:"bg-white min-h-screen",children:Object(g.jsx)("div",{className:"max-w-7xl mx-auto py-16 px-4 sm:py-24 sm:px-6 lg:px-8",children:Object(g.jsxs)("div",{className:"text-center",children:[Object(g.jsx)("p",{className:"mt-1 text-4xl font-extrabold text-gray-900 sm:text-5xl sm:tracking-tight lg:text-6xl",children:"Request Songs"}),Object(g.jsx)("p",{className:"max-w-xl mt-5 mx-auto text-xl text-gray-500",children:"Veuillez vous connecter afin de creer un \xe9venement!"}),Object(g.jsx)(o.b,{to:"/login",children:Object(g.jsx)("div",{className:"inline-flex rounded-md",children:Object(g.jsx)("div",{className:"mt-4 inline-flex items-center justify-center px-5 py-3 border border-transparent text-base font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700",children:"Login"})})})]})})}):Object(g.jsxs)("div",{className:"w-full h-screen justify-center items-center flex flex-col",children:[Object(g.jsx)(h.a,{size:42,className:"animate-spin"}),Object(g.jsx)("h2",{className:"animate-pulse",children:"Chargement"})]})})};function J(){var e=Object(c.useState)(""),t=Object(r.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(""),i=Object(r.a)(a,2),o=i[0],l=i[1],d=function(){B.a.error("Password ou Nom invalide!",{position:B.a.POSITION.TOP_RIGHT})},x=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!n||!o){e.next=6;break}return e.next=4,u.a.post("".concat(m,"/login"),{user_name:n,user_password:o}).then((function(e){return e.data})).then((function(e){var t=JSON.stringify(e.result[0]);localStorage.setItem("token",e.token),localStorage.setItem("user",t),console.log("success"),document.location.reload(),console.log(e)})).catch((function(e){console.log("error"),d()}));case 4:e.next=8;break;case 6:console.log("champ vides"),d();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[Object(g.jsx)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:Object(g.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Connection"})}),Object(g.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:Object(g.jsx)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:Object(g.jsxs)("form",{className:"space-y-6",onSubmit:function(e){e.preventDefault(),x(e)},children:[Object(g.jsxs)("div",{children:[Object(g.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Nom"}),Object(g.jsx)("div",{className:"mt-1",children:Object(g.jsx)("input",{onChange:function(e){e.preventDefault(),function(e){s(e.target.value)}(e)},id:"nom",name:"nom",type:"nom",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),Object(g.jsx)("div",{className:"mt-1",children:Object(g.jsx)("input",{onChange:function(e){!function(e){l(e.target.value)}(e)},id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]}),Object(g.jsx)("div",{children:Object(g.jsx)("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Se connecter"})})]})})})]})}B.a.configure();var W=n(115),Y=n(37),K=n(34),Q=n.n(K),X=Q()(z.a),Z=function(e){var t=e.event,n=localStorage.getItem("token"),s=Object(c.useState)(""),a=Object(r.a)(s,2),i=a[0],o=a[1],l=Object(c.useState)([]),d=Object(r.a)(l,2),x=d[0],j=d[1],f=Object(c.useState)(""),b=Object(r.a)(f,2),h=b[0],p=b[1],O=function(){u.a.get("".concat(m,"/currentSongs")).then((function(e){j(e.data)})).catch((function(e){console.log(e)}))};return Object(c.useEffect)((function(){return O(),function(){j([])}}),[]),Object(c.useEffect)((function(){A((function(e){"musicupdate"===e&&O()}))}),[]),Object(g.jsx)("div",{className:"flex flex-col",children:t?t.length<=0?Object(g.jsx)("div",{className:"w-full flex justify-center items-center",children:Object(g.jsx)("p",{className:"dark:text-gray-100 py-52",children:"Pas d'\xe9venement en cours"})}):t[0].active_music_request?Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"w-full",children:Object(g.jsxs)("div",{className:"flex justify-between mb-5",children:[Object(g.jsxs)("div",{className:"flex space-x-3",children:[Object(g.jsx)("input",{onChange:function(e){p(e.target.value)},type:"text",name:"title",id:"title",className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:"Titre en cours"}),Object(g.jsx)("button",{disabled:null===h||""===h,onClick:function(){X.fire({title:"\xcates-vous s\xfbr de vouloir modifier le titre en cours ?",showCancelButton:!0,confirmButtonText:"Valider",cancelButtonText:"Annuler"}).then((function(e){e.isConfirmed&&u.a.put("".concat(m,"/app/songinprogress/0"),{titleincurent:h},{headers:{"x-access-token":n}}).then((function(){z.a.fire("Modifi\xe9!","","success"),P(["title"]),p(""),F("update","title")})).catch((function(e){z.a.fire("Erreur!","","error")}))}))},type:"button",className:null===h||""===h?"inline-flex items-center px-4 py-2 border border-transparent text-base font-medium rounded-md text-gray-700 bg-gray-100 cursor-not-allowed dark:bg-gray-500 dark:text-gray-200":"inline-flex items-center px-4 py-2 border border-transparent text-base font-medium rounded-md text-green-700 dark:bg-green-700 dark:text-green-100 bg-green-100 hover:bg-green-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Valider"})]}),Object(g.jsxs)("div",{className:"flex items-center space-x-2",children:[Object(g.jsx)("label",{htmlFor:"location",className:"block text-xs font-medium text-gray-700 dark:text-gray-200",children:"Trier:"}),Object(g.jsxs)("select",{defaultValue:"",id:"location",name:"location",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",onChange:function(e){o(e.target.value)},children:[Object(g.jsx)("option",{disabled:!0}),Object(g.jsx)("option",{value:"indispo",children:"Indisponible"}),Object(g.jsx)("option",{value:"valid\xe9",children:"Valid\xe9"}),Object(g.jsx)("option",{value:"voteup",children:"Top vote"})]})]})]})}),Object(g.jsx)("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:Object(g.jsxs)("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:[Object(g.jsx)("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:Object(g.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[Object(g.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-700",children:Object(g.jsxs)("tr",{className:"text-gray-500 dark:text-gray-50",children:[Object(g.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Musique"}),Object(g.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium  uppercase tracking-wider",children:"Status"}),Object(g.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Vote"}),Object(g.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Par"}),Object(g.jsx)("th",{scope:"col",className:"relative px-6 py-3",children:Object(g.jsx)("span",{className:"sr-only",children:"Edit"})})]})}),Object(g.jsx)("tbody",{className:"bg-white dark:bg-gray-400 dark:divide-white divide-y divide-gray-200",children:x.sort((function(e,t){return D(e,t,i)})).map((function(e){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{className:" py-4 ",children:Object(g.jsx)("div",{className:"flex items-center",children:Object(g.jsxs)("div",{className:"ml-4  max-w-xl overflow-auto",children:[Object(g.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white \t",children:e.title}),Object(g.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-300",children:e.artist})]})})}),Object(g.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.isNew?Object(g.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800 dark:text-gray-100 dark:bg-gray-800",children:"En attente"}):e.unavailable?Object(g.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800 dark:bg-yellow-800 dark:text-yellow-100",children:"Indisponible"}):e.isValid?Object(g.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100",children:"Valid\xe9"}):null}),Object(g.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(g.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-200",children:e.countVote>=0?e.countVote:null})}),Object(g.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(g.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-200",children:e.pseudo})}),Object(g.jsx)("td",{className:" py-4 whitespace-nowrap ",children:Object(g.jsxs)("div",{className:"flex items-center justify-center flex-wrap text-indigo-600 hover:text-indigo-900 dark:text-blue-700",children:[Object(g.jsx)("div",{className:"cursor-pointer mx-2 my-1",onClick:function(){return t=e.id,void X.fire({title:"\xcates-vous s\xfbr de vouloir supprimer cette chanson?",showCancelButton:!0,confirmButtonText:"Valider",cancelButtonText:"Annuler"}).then((function(e){e.isConfirmed&&u.a.delete("".concat(m,"/currentsongs/").concat(t),{headers:{"x-access-token":n}}).then((function(){z.a.fire("Suprim\xe9e!","","success"),F("update","musiclist"),O()})).catch((function(e){z.a.fire("Erreur!","","error")}))}));var t},children:Object(g.jsx)(k.a,{size:24})}),Object(g.jsx)("div",{className:" cursor-pointer mx-2 my-1",onClick:function(){return t=e.id,void X.fire({title:"\xcates-vous s\xfbr de vouloir mettre cette chanson en indisponible?",showCancelButton:!0,confirmButtonText:"Valider",cancelButtonText:"Annuler"}).then((function(e){e.isConfirmed&&u.a.put("".concat(m,"/currentsongs/").concat(t),{unavailable:1,isNew:0,isValid:0,countVote:-1},{headers:{"x-access-token":n}}).then((function(){z.a.fire("Modifi\xe9!","","success"),F("update","musiclist"),O()})).catch((function(e){z.a.fire("Erreur!","","error")}))}));var t},children:Object(g.jsx)(W.a,{size:25})}),Object(g.jsx)("div",{className:"cursor-pointer mx-2 my-1",onClick:function(){return t=e.id,void X.fire({title:"\xcates-vous s\xfbr de vouloir mettre cette chanson en valid\xe9?",showCancelButton:!0,confirmButtonText:"Valider",cancelButtonText:"Annuler"}).then((function(e){e.isConfirmed&&u.a.put("".concat(m,"/currentsongs/").concat(t),{unavailable:0,isNew:0,isValid:1,countVote:-1},{headers:{"x-access-token":n}}).then((function(){z.a.fire("Modifi\xe9!","","success"),F("update","musiclist"),O()})).catch((function(e){z.a.fire("Erreur!","","error")}))}));var t},children:Object(g.jsx)(Y.c,{size:25})})]})})]},e.id)}))})]})}),Object(g.jsx)("div",{className:"flex justify-end mt-5",children:Object(g.jsx)("button",{onClick:function(){X.fire({title:"\xcates-vous s\xfbr de vouloir supprimer toutes les chansons?",showCancelButton:!0,confirmButtonText:"Valider",cancelButtonText:"Annuler"}).then((function(e){e.isConfirmed&&x.forEach((function(e){u.a.delete("".concat(m,"/currentsongs/").concat(e.id),{headers:{"x-access-token":n}}).then((function(){z.a.fire("Suprim\xe9e!","","success"),F("update","musiclist"),O()}))}))}))},type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent text-base font-medium rounded-md dark:text-red-100 dark:bg-red-700   text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Tout supprimer"})})]})})]}):Object(g.jsx)("div",{className:"w-full flex justify-center items-center",children:Object(g.jsx)("p",{className:"dark:text-gray-100 py-52",children:"Fonctionnalit\xe9e d\xe9sactiv\xe9e"})}):null})},$=n(5),ee=n(68),te=n(202),ne=n(116),ce=n(200),se=Q()(z.a);function ae(e){var t=e.apiPath,n=e.token,s=e.imagePath,a=e.id,i=e.nameItem,o=e.emitEvent,l=e.filePath,d=e.isActivate,m=e.refetch,x=Object(c.useState)(!1),j=Object(r.a)(x,2),f=j[0],b=j[1];Object(c.useEffect)((function(){b(d)}),[d]);return Object(g.jsx)("div",{className:"m-2 w-full sm:w-auto h-full",children:Object(g.jsxs)("div",{className:"space-y-2 w-full h-auto p-6 bg-white dark:bg-gray-500 rounded-xl shadow-xl flex flex-col justify-center items-center",children:[Object(g.jsx)("img",{className:"w-24 h-24 object-cover rounded-t-md",src:s,alt:""}),Object(g.jsxs)("div",{className:"",children:[Object(g.jsx)("p",{className:"text-2xl text-center font-bold text-gray-700 dark:text-white",children:i}),Object(g.jsx)("p",{className:" text-center font-bold text-gray-400",children:f?"Activ\xe9":"D\xe9sactiv\xe9"})]}),Object(g.jsxs)("div",{className:"flex justify-between w-full",children:[Object(g.jsx)("button",{onClick:function(e){se.fire({title:"Confirmation",text:"\xcates-vous sur de vouloir supprimer cet item?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Oui, je suis sur !"}).then((function(e){u.a.delete("".concat(t,"/").concat(a),{headers:{"x-access-token":n},data:{path:l}}).catch((function(e){console.error(e)}))})).then((function(){z.a.fire("Succ\xe9s!","L'item s'est supprim\xe9","success"),m(),o()})).catch((function(){z.a.fire("Erreur!","Une erreur est survenue","error")}))},className:"inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:text-sm dark:bg-red-800 dark:text-red-100",children:Object(g.jsx)(k.a,{size:24})}),Object(g.jsx)(ce.a,{checked:!!d,onChange:function(e){!function(e){var c=e.target.checked;u.a.patch("".concat(t,"/").concat(a),{isActivate:c},{headers:{"x-access-token":n}}).then((function(e){m(),o()})).catch((function(e){return console.error(e)})),b(c)}(e)}})]})]})})}var ie=Q()(z.a);function re(){var e=localStorage.getItem("token"),t=Object(c.useState)({}),n=Object(r.a)(t,2),s=n[0],a=n[1],i=Object(c.useState)(),o=Object(r.a)(i,2),l=o[0],d=o[1],x=Object(c.useState)({name:"",path_to:""}),j=Object(r.a)(x,2),f=j[0],b=j[1],h=Object(c.useState)([]),p=Object(r.a)(h,2),O=p[0],v=p[1],y=function(){u.a.get("".concat(m,"/footer")).then((function(e){v(e.data)})).catch((function(e){console.error(e)}))};return Object(c.useEffect)((function(){return y(),function(){v([])}}),[]),Object(c.useEffect)((function(){A((function(e){console.log("test"),"footer"===e&&y()}))}),[]),Object(g.jsxs)("div",{className:"bg-white dark:bg-gray-700 shadow sm:rounded-lg",children:[Object(g.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[Object(g.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white",children:"Footer"}),Object(g.jsx)("div",{className:"mt-2 max-w-xl text-sm text-gray-500 dark:text-gray-200",children:Object(g.jsx)("p",{children:"Ajouter un icone"})}),Object(g.jsxs)("form",{className:"mt-6 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",onSubmit:function(t){return function(t){t.preventDefault(),l&&f.name.length>0&&f.path_to.length>0?ie.fire({title:"Confirmation",text:"\xcates-vous sur de vouloir ajouter ce nouvel icone au pied de page?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Oui, je suis sur !"}).then((function(t){t.isConfirmed&&new Promise((function(t,n){var c=new FormData;c.append("file",l),u.a.post("".concat(m,"/upload/footer"),c,{headers:{"Content-Type":"multipart/form-data","x-access-token":e}}).then((function(c){var s=c.data;u.a.post("".concat(m,"/footer"),Object(T.a)(Object(T.a)({},f),{},{filePath:s.filePath}),{headers:{"x-access-token":e}}).then((function(){z.a.fire("Modifi\xe9!","","success"),t(c)})).catch((function(e){n(e)}))})).catch((function(e){n(e)}))})).then((function(){z.a.fire("Succ\xe9s!","L'item est ajout\xe9","success"),y(),F("update","footer")})).catch((function(){z.a.fire("Erreur!","Une erreur est survenue","error")}))})):z.a.fire("Erreur!","Veuillez remplir tout les champs","error")}(t)},children:[Object(g.jsxs)("div",{className:"sm:col-span-4",children:[Object(g.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 dark:text-white",children:"Nom"}),Object(g.jsx)("div",{className:"mt-1 flex rounded-full shadow-sm",children:Object(g.jsx)("input",{required:!0,onChange:function(e){return b(Object(T.a)(Object(T.a)({},f),{},Object($.a)({},e.target.name,e.target.value)))},placeholder:"Instagram",type:"text",name:"name",id:"name",className:"flex-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full min-w-0 rounded-lg sm:text-sm border-gray-300"})})]}),Object(g.jsxs)("div",{className:"sm:col-span-4",children:[Object(g.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 dark:text-white",children:"Lien"}),Object(g.jsx)("div",{className:"mt-1 flex rounded-full shadow-sm",children:Object(g.jsx)("input",{onChange:function(e){return b(Object(T.a)(Object(T.a)({},f),{},Object($.a)({},e.target.name,e.target.value)))},placeholder:"https://instagram.com",type:"url",name:"path_to",id:"path_to",className:"flex-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full min-w-0 rounded-lg sm:text-sm border-gray-300"})})]}),Object(g.jsxs)("div",{className:"sm:col-span-4",children:[Object(g.jsx)("span",{className:"mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300",children:"* Attention: un format avec fond transparent (png) de forme carr\xe9 est pr\xe9f\xe9rable"}),Object(g.jsxs)("div",{className:"flex flex-col  justify-between sm:flex-row",children:[Object(g.jsxs)("div",{className:"w-full sm:max-w-xs flex justify-between sm:justify-start items-center sm:justify-",children:[Object(g.jsxs)("label",{htmlFor:"file-upload",className:null!==s.file?"flex justify-between items-center cursor-pointer px-4 py-2 border-2 border-green-600 rounded-md w-28 ":"flex justify-between items-center cursor-pointer px-4 py-2 border-2 border-gray-300 rounded-md w-28 ",children:[Object(g.jsx)("i",{className:"",children:null!==s.file?Object(g.jsx)(ee.a,{size:20,className:"text-green-600"}):Object(g.jsx)(Y.d,{size:20,className:"text-gray-600 dark:text-white"})}),Object(g.jsx)("span",{className:null!==s.file?"text-green-600":"text-gray-600 dark:text-white",children:"Upload"})]}),Object(g.jsx)("input",{accept:".png,.jpeg,.gif,.jpg",onChange:function(e){!function(e){if(void 0!==e.target.files[0]){var t=new FileReader,n=e.target.files[0];t.onloadend=function(){a({file:n,imagePreviewUrl:t.result})},d(n),t.readAsDataURL(n)}else a({file:null,imagePreviewUrl:null})}(e)},id:"file-upload",type:"file",className:"hidden",name:"file"}),s.imagePreviewUrl?Object(g.jsx)("img",{alt:"banniere",className:"w-20 rounded-sm self-center mx-5",src:s.imagePreviewUrl}):null]}),Object(g.jsx)("button",{type:"submit",className:"mt-4 sm:mt-0 w-full inline-flex items-center justify-center px-4 py-2 border border-transparent shadow-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500  sm:w-auto sm:text-sm",children:"Ajouter"})]})]})]})]}),Object(g.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[Object(g.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white",children:"Gerer les icones"}),Object(g.jsx)("div",{className:"mt-2 max-w-xl text-sm text-gray-500 dark:text-gray-200",children:Object(g.jsx)("p",{children:"Liste des icones"})}),Object(g.jsx)("div",{className:"flex flex-wrap",children:0===O.length?Object(g.jsx)("div",{className:"mt-2 max-w-xl text-sm text-gray-500 dark:text-gray-200",children:"Aucun icone enregistr\xe9 actuellement"}):O.map((function(t){return Object(g.jsx)(ae,{emitEvent:function(){return F("update","footer")},refetch:y,apiPath:"".concat(m,"/footer"),token:e,id:t.id,imagePath:t.filePath,nameItem:t.name,filePath:t.filePath,isActivate:t.isActivate},t.id)}))})]})]})}var oe=Q()(z.a),le=function(){var e=localStorage.getItem("token"),t=Object(c.useState)(!1),n=Object(r.a)(t,2),s=n[0],a=n[1],i=Object(c.useState)({name:"",active_wall_picture:!1,active_music_request:!1}),o=Object(r.a)(i,2),d=o[0],x=o[1],j=Object(c.useState)({}),f=Object(r.a)(j,2),b=f[0],h=f[1],p=Object(c.useState)({}),O=Object(r.a)(p,2),v=O[0],y=O[1],w=Object(c.useState)(),N=Object(r.a)(w,2),k=N[0],S=N[1],C=Object(c.useState)("#aabbcc"),_=Object(r.a)(C,2),E=_[0],B=_[1],P=Object(c.useState)(""),V=Object(r.a)(P,2),M=V[0],q=V[1],D=Object(l.g)(),L=function(){u.a.get("".concat(m,"/events")).then((function(e){h(e.data[0]),a(!0)})).catch((function(e){console.log(e)}))},R=function(){u.a.get("".concat(m,"/app/app")).then((function(e){B(e.data.titleEventappStyle.color),q(e.data.titleEventappStyle.position)})).catch((function(e){console.log(e)}))};return Object(c.useEffect)((function(){L(),R()}),[]),Object(c.useEffect)((function(){A((function(e){"settitle"===e&&(console.log("je recoit"),R())}))}),[]),Object(g.jsxs)("div",{children:[s?null===b||void 0===b?null:Object(g.jsx)("div",{className:"bg-white dark:bg-gray-700 shadow sm:rounded-lg",children:Object(g.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[Object(g.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white",children:"Acc\xe8s"}),Object(g.jsx)("div",{className:"mt-2 max-w-xl text-sm text-gray-500 dark:text-gray-200",children:Object(g.jsx)("p",{children:"G\xe9rer l'acc\xe8s au fonctionnalit\xe9es"})}),Object(g.jsx)("div",{className:"",children:Object(g.jsxs)("form",{onSubmit:function(t){t.preventDefault(),b.active_music_request||b.active_wall_picture?oe.fire({title:"\xcates-vous sur ?",text:"Cela modifira les accc\xe8s au fonctionnalit\xe9es",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Oui, je suis sur !"}).then((function(t){t.isConfirmed&&new Promise((function(t,n){u.a.put("".concat(m,"/events/").concat(b.id),b,{headers:{"x-access-token":e}}).then((function(e){t(e)})).catch((function(e){n(e)}))})).then((function(){z.a.fire("Modifi\xe9!","L'\xe9venement est modifi\xe9","success"),h(null),L(),F("update","event")})).catch((function(){z.a.fire("Erreur!","Une erreur est survenue","error")}))})):z.a.fire("Erreur!","S\xe9lectionner au moins une cat\xe9gorie","error")},children:[Object(g.jsxs)("fieldset",{className:"space-y-5",children:[Object(g.jsx)("legend",{className:"sr-only",children:"Notifications"}),Object(g.jsxs)("div",{className:"relative flex items-start",children:[Object(g.jsx)("div",{className:"flex items-center h-5",children:Object(g.jsx)("input",{id:"active_music_request","aria-describedby":"comments-description",name:"active_music_request",type:"checkbox",onChange:function(e){h(Object(T.a)(Object(T.a)({},b),{},Object($.a)({},e.target.name,!b.active_music_request)))},defaultChecked:1===b.active_music_request,className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"})}),Object(g.jsxs)("div",{className:"ml-3 text-sm",children:[Object(g.jsx)("label",{htmlFor:"comments",className:"font-medium text-gray-700 dark:text-white",children:"Music Request"}),Object(g.jsx)("p",{id:"comments-description",className:"text-gray-500 dark:text-gray-400"})]})]}),Object(g.jsxs)("div",{className:"relative flex items-start",children:[Object(g.jsx)("div",{className:"flex items-center h-5",children:Object(g.jsx)("input",{onChange:function(e){h(Object(T.a)(Object(T.a)({},b),{},Object($.a)({},e.target.name,!b.active_wall_picture)))},defaultChecked:1===b.active_wall_picture,id:"active_wall_picture","aria-describedby":"active_wall_picture",name:"active_wall_picture",type:"checkbox",className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"})}),Object(g.jsxs)("div",{className:"ml-3 text-sm",children:[Object(g.jsx)("label",{htmlFor:"candidates",className:"font-medium text-gray-700 dark:text-white",children:"Wall Picture"}),Object(g.jsx)("p",{id:"candidates-description",className:"text-gray-500 dark:text-gray-400"})]})]})]}),Object(g.jsx)("button",{type:"submit",className:"mt-3 w-full inline-flex items-center justify-center px-4 py-2 border border-transparent shadow-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-5  sm:w-auto sm:text-sm",children:"Modifier"})]})})]})}):null,s?null===b||void 0===b?null:Object(g.jsxs)("div",{className:"bg-white dark:bg-gray-700 shadow sm:rounded-lg my-2.5",children:[Object(g.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[Object(g.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white",children:"Modifier la position"}),Object(g.jsx)("div",{className:"mt-2 max-w-xl text-sm text-gray-500 dark:text-gray-200",children:Object(g.jsx)("p",{children:"Modifier pour changer la position du titre"})}),Object(g.jsx)("div",{className:" flex items-start",children:Object(g.jsx)("form",{className:"space-y-5 mt-4",onSubmit:function(t){t.preventDefault(),oe.fire({title:"\xcates-vous sur ?",text:"Cela modifira la position du titre",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Oui, je suis sur !"}).then((function(t){t.isConfirmed&&new Promise((function(t,n){u.a.put("".concat(m,"/app/titleEventappStyle/position/0"),{position:M},{headers:{"x-access-token":e}}).then((function(e){console.log(e),t(e)})).catch((function(e){401===e.response.status?(localStorage.removeItem("token"),D.go(0)):n()}))})).then((function(e){console.log(e.data),z.a.fire("Modifi\xe9!","L'\xe9venement est modifi\xe9","success"),R(),F("update","settitle")}))}))},children:Object(g.jsxs)("div",{className:" flex items-center space-x-4",children:[Object(g.jsxs)("select",{defaultValue:M,id:"location",name:"location",className:" block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",onChange:function(e){q(e.target.value)},children:[Object(g.jsx)("option",{value:"left",children:"Gauche"}),Object(g.jsx)("option",{value:"center",children:"Centr\xe9"}),Object(g.jsx)("option",{value:"right",children:"Droite"})]}),Object(g.jsx)("button",{type:"submit",className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent shadow-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500   sm:w-auto sm:text-sm",children:"Modifier"})]})})})]}),Object(g.jsxs)("div",{className:"px-4 pb-7 sm:px-6",children:[Object(g.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white",children:"Modifier la couleur"}),Object(g.jsx)("div",{className:"mt-2 max-w-xl text-sm text-gray-500 dark:text-gray-200",children:Object(g.jsx)("p",{children:"Modifier pour changer la couleur du titre"})}),Object(g.jsx)("div",{className:" flex items-start",children:Object(g.jsx)("form",{className:"space-y-5 mt-4",onSubmit:function(t){t.preventDefault(),oe.fire({title:"\xcates-vous sur ?",text:"Cela modifira la couleur du titre",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Oui, je suis sur !"}).then((function(t){t.isConfirmed&&new Promise((function(t,n){u.a.put("".concat(m,"/app/titleEventappStyle/color/0"),{color:E},{headers:{"x-access-token":e}}).then((function(e){t(e)})).catch((function(e){401===e.response.status?(localStorage.removeItem("token"),D.go(0)):n()}))})).then((function(){z.a.fire("Modifi\xe9!","L'\xe9venement est modifi\xe9","success"),R(),F("update","settitle")})).catch((function(){z.a.fire("Erreur!","Une erreur est survenue","error")}))}))},children:Object(g.jsxs)("div",{className:" flex items-end space-x-4",children:[Object(g.jsx)(ne.a,{color:E,onChange:B}),Object(g.jsx)("button",{type:"submit",className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent shadow-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500   sm:w-auto sm:text-sm",children:"Modifier"})]})})})]})]}):null,s?Object(g.jsx)(re,{}):null,s?null===b||void 0===b?null:Object(g.jsx)("div",{className:"bg-white dark:bg-gray-700 shadow sm:rounded-lg my-2.5",children:Object(g.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[Object(g.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white",children:"Image d'en-tete"}),Object(g.jsx)("div",{className:"mt-2 max-w-xl text-sm text-gray-500 dark:text-gray-200",children:Object(g.jsx)("p",{children:"Modifier l'image d'en-t\xeate"})}),Object(g.jsxs)("div",{className:"flex justify-between flex-col sm:flex-row",children:[Object(g.jsxs)("form",{className:"mt-5 flex items-center space-x-4",onSubmit:function(t){return function(t){t.preventDefault(),oe.fire({title:"\xcates-vous sur de vouloir modifier l'image d'en-t\xeate?",text:"Cela entra\xeenera la suppression de l'ancienne image!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Oui, je suis sur !"}).then((function(t){t.isConfirmed&&new Promise((function(t,n){var c;k&&(c=k.name.split(".").pop());var s="bg-music."+c,a=new FormData;a.append("file",k),u.a.post("".concat(m,"/upload/bg/").concat(b.id),a,{headers:{"Content-Type":"multipart/form-data","x-access-token":e}}).then((function(c){u.a.put("".concat(m,"/events/").concat(b.id),{bg_music:s},{headers:{"x-access-token":e}}).then((function(){z.a.fire("Modifi\xe9!","","success"),t(c)})).catch((function(e){z.a.fire("Erreur!","","error"),n(e)}))})).catch((function(e){n(e)}))})).then((function(){z.a.fire("Succ\xe9s!","L'image est chang\xe9","success"),F("update","event")})).catch((function(){z.a.fire("Erreur!","Une erreur est survenue","error")}))}))}(t)},children:[Object(g.jsxs)("div",{className:" sm:max-w-xs",children:[Object(g.jsxs)("label",{htmlFor:"file-upload",className:null!==v.file?"flex justify-between items-center cursor-pointer px-4 py-2 border-2 border-green-600 rounded-md w-28 ":"flex justify-between items-center cursor-pointer px-4 py-2 border-2 border-gray-300 rounded-md w-28 ",children:[Object(g.jsx)("i",{className:"",children:null!==v.file?Object(g.jsx)(ee.a,{size:20,className:"text-green-600"}):Object(g.jsx)(Y.d,{size:20,className:"text-gray-600 dark:text-white"})}),Object(g.jsx)("span",{className:null!==v.file?"text-green-600":"text-gray-600 dark:text-white",children:"Upload"})]}),Object(g.jsx)("input",{accept:".png,.jpeg,.gif,.jpg",onChange:function(e){!function(e){if(void 0!==e.target.files[0]){var t=new FileReader,n=e.target.files[0];t.onloadend=function(){y({file:n,imagePreviewUrl:t.result})},S(n),t.readAsDataURL(n)}else y({file:null,imagePreviewUrl:null})}(e)},id:"file-upload",type:"file",className:"hidden"})]}),Object(g.jsx)("button",{disabled:null===v.file,type:"submit",className:null!==v.file?"text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 inline-flex items-center justify-center px-4 py-2 border border-transparent font-medium rounded-md sm:ml-3 sm:w-auto sm:text-sm":" cursor-not-allowed text-white bg-gray-400 inline-flex items-center justify-center px-4 py-2 border border-transparent font-medium rounded-md sm:ml-3 sm:w-auto sm:text-sm",children:"Modifier"})]}),null!==k||void 0!==k?Object(g.jsx)("img",{alt:"banniere",className:"w-52 rounded-sm mt-2 sm:mt-0 self-center",src:v.imagePreviewUrl?v.imagePreviewUrl:null!==b.bg_music?"/uploads/".concat(b.bg_music):I}):null]})]})}):null,s&&(null===b||void 0===b)?Object(g.jsx)("div",{className:"bg-white dark:bg-gray-700 shadow sm:rounded-lg",children:Object(g.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[Object(g.jsx)("h3",{className:"text-lg leading-6 font-medium dark:text-white text-gray-900",children:"Nouvel Event"}),Object(g.jsx)("div",{className:"mt-2 max-w-xl text-sm text-gray-500",children:Object(g.jsx)("p",{children:"Saisir le titre de l'\xe9venement. Attention celui-ci sera affich\xe9 sur la page d'accueil."})}),Object(g.jsxs)("form",{className:"mt-5 ",onSubmit:function(t){return function(t){t.preventDefault(),d.active_music_request||d.active_wall_picture?oe.fire({title:"\xcates-vous s\xfbr de vouloir cr\xe9er l'\xe9venement ".concat(d.name,"?"),showCancelButton:!0,confirmButtonText:"Valider",cancelButtonText:"Annuler"}).then((function(t){t.isConfirmed&&(u.a.post("".concat(m,"/events"),{name:d.name,active_music_request:d.active_music_request,active_wall_picture:d.active_wall_picture,uuid:Object(te.a)()},{headers:{"x-access-token":e}}).catch((function(e){console.log(e)})),z.a.fire("Cr\xe9er!","","success"),F("update","event"),L())})):z.a.fire("Erreur!","S\xe9lectionner au moins une cat\xe9gorie","error")}(t)},children:[Object(g.jsxs)("div",{className:"w-full sm:max-w-xs",children:[Object(g.jsx)("label",{htmlFor:"name",className:"sr-only",children:"Nom de l'\xe9venement"}),Object(g.jsx)("input",{required:!0,onChange:function(e){return x(Object(T.a)(Object(T.a)({},d),{},{name:e.target.value}))},type:"text",name:"eventName",id:"eventName",className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:"Romain's birthday"})]}),Object(g.jsx)("div",{className:"",children:Object(g.jsxs)("fieldset",{className:"space-y-5",children:[Object(g.jsx)("legend",{className:"sr-only",children:"Notifications"}),Object(g.jsxs)("div",{className:"relative flex items-start",children:[Object(g.jsx)("div",{className:"flex items-center h-5",children:Object(g.jsx)("input",{id:"comments","aria-describedby":"comments-description",onChange:function(e){return x(Object(T.a)(Object(T.a)({},d),{},{active_music_request:e.target.checked}))},name:"comments",type:"checkbox",className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"})}),Object(g.jsx)("div",{className:"ml-3 text-sm",children:Object(g.jsx)("label",{htmlFor:"comments",className:"font-medium text-gray-700 dark:text-white",children:"Music Request"})})]}),Object(g.jsxs)("div",{className:"relative flex items-start",children:[Object(g.jsx)("div",{className:"flex items-center h-5",children:Object(g.jsx)("input",{id:"candidates","aria-describedby":"candidates-description",onChange:function(e){return x(Object(T.a)(Object(T.a)({},d),{},{active_wall_picture:e.target.checked}))},name:"candidates",type:"checkbox",className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"})}),Object(g.jsx)("div",{className:"ml-3 text-sm",children:Object(g.jsx)("label",{htmlFor:"candidates",className:"font-medium text-gray-700 dark:text-white",children:"Wall Picture"})})]})]})}),Object(g.jsx)("button",{type:"submit",className:"mt-3 w-full inline-flex items-center justify-center px-4 py-2 border border-transparent shadow-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-5  sm:w-auto sm:text-sm",children:"Cr\xe9er"})]})]})}):null,s?null===b||void 0===b?null:Object(g.jsx)("div",{className:"bg-white dark:bg-gray-700 shadow sm:rounded-lg my-2.5",children:Object(g.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[Object(g.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white",children:"Suppression"}),Object(g.jsx)("div",{className:"mt-2 max-w-xl text-sm text-gray-500 dark:text-gray-200",children:Object(g.jsx)("p",{children:"En supprimant l'\xe9venement vous supprimer toutes les donn\xe9es li\xe9es."})}),Object(g.jsx)("div",{className:"mt-5",children:Object(g.jsx)("button",{onClick:function(){return function(){var e=localStorage.getItem("token");oe.fire({title:"\xcates-vous sur ?",text:"Cela entra\xeenera la suppression des donn\xe9es",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Oui, je suis sur !"}).then((function(t){t.isConfirmed&&new Promise((function(t,n){u.a.delete("".concat(m,"/events/remove/all"),{headers:{"x-access-token":e}}).then((function(e){t(e)})).catch((function(e){n(e)}))})).then((function(){z.a.fire("Suprim\xe9!","L'\xe9venement est supprim\xe9","success"),h([]),L(),F("update","event")})).catch((function(){z.a.fire("Erreur!","Une erreur est survenue","error")}))}))}()},type:"button",className:"inline-flex items-center justify-center px-4 py-2 border border-transparent font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:text-sm dark:bg-red-800 dark:text-red-200",children:"Supprimer l'\xe9venement"})})]})}):null]})};function de(){return Object(g.jsxs)("div",{className:"bg-white h-full flex flex-col lg:relative",children:[Object(g.jsx)("div",{className:"flex-grow flex flex-col",children:Object(g.jsx)("main",{className:"flex-grow flex flex-col bg-white",children:Object(g.jsxs)("div",{className:"flex-grow mx-auto max-w-7xl w-full flex flex-col px-4 sm:px-6 lg:px-8",children:[Object(g.jsx)("div",{className:"flex-shrink-0 pt-10 sm:pt-16",children:Object(g.jsxs)("a",{href:"/",className:"inline-flex",children:[Object(g.jsx)("span",{className:"sr-only",children:"Workflow"}),Object(g.jsx)("img",{className:"h-12 w-auto",src:"https://tailwindui.com/img/logos/workflow-mark.svg?color=indigo&shade=600",alt:""})]})}),Object(g.jsxs)("div",{className:"flex-shrink-0 my-auto py-16 sm:py-32",children:[Object(g.jsx)("p",{className:"text-sm font-semibold text-indigo-600 uppercase tracking-wide",children:"En Construction"}),Object(g.jsx)("p",{className:"mt-2 text-base text-gray-500",children:"Cette page sera bient\xf4t disponible"})]})]})})}),Object(g.jsx)("div",{className:"hidden lg:block lg:absolute lg:inset-y-0 lg:right-0 lg:w-1/2",children:Object(g.jsx)("img",{className:"absolute inset-0 h-full w-full object-cover",src:"https://images.unsplash.com/photo-1470847355775-e0e3c35a9a2c?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1825&q=80",alt:""})})]})}var ue=function(){return Object(g.jsx)("div",{className:"h-86",children:Object(g.jsx)(de,{})})},me=n(199),xe=Q()(z.a),je=function(){var e=localStorage.getItem("token"),t=Object(c.useState)([]),n=Object(r.a)(t,2),s=n[0],a=n[1],i=function(){u.a.get("".concat(m,"/visitor")).then((function(e){a(e.data)})).catch((function(e){console.log(e)}))};Object(c.useEffect)((function(){i()}),[]),Object(c.useEffect)((function(){A((function(e){"userupdate"!==e&&"visitorallowed"!==e||i()}))}),[]);return Object(c.useEffect)((function(){i()}),[]),Object(g.jsxs)("div",{className:"flex flex-col",children:[Object(g.jsx)("div",{className:"w-full",children:Object(g.jsx)("div",{className:"flex justify-between mb-5"})}),Object(g.jsx)("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:Object(g.jsx)("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:Object(g.jsx)("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:Object(g.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[Object(g.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-700",children:Object(g.jsxs)("tr",{className:"text-gray-500 dark:text-gray-50",children:[Object(g.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Pseudo"}),Object(g.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Uuid"}),Object(g.jsx)("th",{scope:"col",className:"relative px-6 py-3",children:Object(g.jsx)("span",{className:"sr-only",children:"Edit"})})]})}),Object(g.jsx)("tbody",{className:"bg-white dark:bg-gray-400 dark:divide-white divide-y divide-gray-200",children:s.map((function(t){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{className:" py-4 whitespace-nowrap",children:Object(g.jsx)("div",{className:"flex items-center",children:Object(g.jsx)("div",{className:"ml-4",children:Object(g.jsx)("div",{className:"text-sm font-medium dark:text-white text-gray-900",children:t.pseudo})})})}),Object(g.jsx)("td",{className:" py-4 whitespace-nowrap",children:Object(g.jsx)("div",{className:"flex items-center",children:Object(g.jsx)("div",{className:"ml-4",children:Object(g.jsx)("div",{className:"text-sm font-medium dark:text-white text-gray-900",children:t.uuid})})})}),Object(g.jsx)("td",{className:" py-4 whitespace-nowrap ",children:Object(g.jsx)("div",{className:"flex items-center justify-center flex-wrap",children:Object(g.jsx)("div",{className:"text-indigo-600 hover:text-indigo-900 cursor-pointer mx-2 my-1",onClick:function(){return n=t.id,void xe.fire({title:"\xcates-vous s\xfbr de vouloir modifier la permission de ce visiteur ?",showCancelButton:!0,confirmButtonText:"Valider",cancelButtonText:"Annuler"}).then((function(t){if(t.isConfirmed){var c=s.findIndex((function(e){return n===e.id})),a=s[c].isNotAllowed;console.log(a),u.a.put("".concat(m,"/visitor/").concat(n),{isNotAllowed:1===a?0:1},{headers:{"x-access-token":e}}).then((function(){F("update","visitorallowed"),i(),z.a.fire("Modifi\xe9!","","success")})).catch((function(e){z.a.fire("Erreur!","","error")}))}}));var n},children:Object(g.jsx)(me.a,{checked:!t.isNotAllowed})})})})]},t.id)}))})]})})})})]})},fe=Q()(z.a);var be=function(e){var t=e.submit,n=Object(c.useState)({}),s=Object(r.a)(n,2),a=(s[0],s[1],Object(c.useState)(null)),i=Object(r.a)(a,2),o=(i[0],i[1],Object(c.useState)({title:null,text_content:null,filePath:null,uuid:Object(te.a)(),time:null})),l=Object(r.a)(o,2),d=l[0],x=l[1],j=function(e){x(Object(T.a)(Object(T.a)({},d),{},Object($.a)({},e.target.name,e.target.value)))};return Object(g.jsx)("div",{children:Object(g.jsxs)("form",{className:"space-y-6 sm:space-y-5 divide-y divide-gray-200 bg-white dark:bg-gray-700 shadow sm:rounded-lg px-4 py-5 sm:p-6",onSubmit:function(e){return function(e){e.preventDefault(),d.title&&d.time&&fe.fire({title:"\xcates vous sur de vouloir envoyer cette annonce?",icon:"warning",showCancelButton:!0,confirmButtonText:"Oui",cancelButtonText:"Non"}).then((function(e){e.isConfirmed&&u.a.post("".concat(m,"/pop/"),d).then((function(e){F("update","pop"),t(),P(["text_content","time","title"]),fe.fire("Envoy\xe9!","L'annonce s'affichera dans quelques secondes","success")})).catch((function(e){console.log(e)}))}))}(e)},children:[Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{children:Object(g.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white",children:"Envoyer une alerte"})}),Object(g.jsxs)("div",{className:"mt-6 sm:mt-5 space-y-6 sm:space-y-5",children:[Object(g.jsxs)("div",{className:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5",children:[Object(g.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 dark:text-gray-200 sm:mt-px sm:pt-2",children:"Titre"}),Object(g.jsx)("div",{className:"mt-1 sm:mt-0 sm:col-span-2",children:Object(g.jsx)("div",{className:"max-w-lg flex rounded-md shadow-sm",children:Object(g.jsx)("input",{onChange:function(e){j(e)},type:"text",name:"title",id:"title",autoComplete:"title",className:"flex-1 block w-full focus:ring-indigo-500 focus:border-indigo-500 min-w-0 rounded-none rounded-md sm:text-sm border-gray-300"})})})]}),Object(g.jsxs)("div",{className:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5",children:[Object(g.jsx)("label",{htmlFor:"time",className:"block text-sm font-medium text-gray-700 dark:text-gray-200 sm:mt-px sm:pt-2",children:"Temps d'affichage (Minutes)"}),Object(g.jsx)("div",{className:"mt-1 sm:mt-0 sm:col-span-2",children:Object(g.jsx)("div",{className:"max-w-lg flex rounded-md shadow-sm",children:Object(g.jsx)("input",{onChange:function(e){j(e)},min:"0",type:"number",name:"time",id:"time",autoComplete:"time",className:"flex-1 block w-full focus:ring-indigo-500 focus:border-indigo-500 min-w-0 rounded-none rounded-md sm:text-sm border-gray-300"})})})]}),Object(g.jsxs)("div",{className:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5",children:[Object(g.jsx)("label",{htmlFor:"about",className:"block text-sm font-medium text-gray-700 dark:text-gray-200 sm:mt-px sm:pt-2",children:"Contenu"}),Object(g.jsx)("div",{className:"mt-1 sm:mt-0 sm:col-span-2",children:Object(g.jsx)("textarea",{onChange:function(e){j(e)},id:"text_content",name:"text_content",className:"max-w-lg shadow-sm block w-full focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm border border-gray-300 rounded-md",defaultValue:""})})]})]})]}),Object(g.jsx)("div",{className:"pt-6 sm:pt-5",children:Object(g.jsx)("div",{className:"flex justify-end",children:Object(g.jsx)("button",{type:"submit",className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Envoyer"})})})]})})},he=n(117);var ge=function(e){var t=e.title,n=e.text_content,s=e.status,a=Object(c.useState)(!1),i=Object(r.a)(a,2),o=i[0],l=i[1];return Object(g.jsx)("div",{children:Object(g.jsxs)("section",{className:"",children:[Object(g.jsx)("article",{className:"border-b dark:bg-gray-700",children:Object(g.jsx)("div",{className:"",children:Object(g.jsxs)("header",{className:"flex justify-between items-center p-5 pl-8 pr-8 cursor-pointer select-none",onClick:function(){return l(!o)},children:[Object(g.jsxs)("span",{className:"dark:text-white font-thin text-xl",children:[t," (",s,")"]}),Object(g.jsx)("div",{className:"text-black dark:text-white rounded-full border border-grey w-7 h-7 flex items-center justify-center",children:o?Object(g.jsx)(Y.a,{}):Object(g.jsx)(Y.b,{})})]})})}),Object(g.jsx)(he.a,{show:o,enter:"transition-opacity duration-150",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(g.jsx)("article",{className:"border-b dark:bg-gray-600 dark:text-gray-100",children:Object(g.jsx)("div",{className:"",children:Object(g.jsx)("div",{className:"px-8 py-5 p text-grey-darkest",children:Object(g.jsx)("p",{children:n})})})})})]})})};var pe=function(e){var t=e.popIsLoading,n=e.pops,s=Object(c.useState)({}),a=Object(r.a)(s,2),i=a[0],o=a[1];return Object(c.useEffect)((function(){return o(new Date),function(){o({})}}),[]),function(e,t){var n=Object(c.useRef)();Object(c.useEffect)((function(){console.log(n),n.current=e,console.log(e)}),[e]),Object(c.useEffect)((function(){if(null!==t){var e=setInterval((function(){void 0!==n.current&&n.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){var e=new Date;o(e)}),5e3),Object(g.jsx)("div",{className:" bg-white dark:bg-gray-700 shadow sm:rounded-lg px-4 py-5 sm:p-6",children:t?n.map((function(e){return Object(g.jsx)(ge,{title:e.title,text_content:e.text_content,status:i?new Date(e.expire_at)>i?"en cours":"expir\xe9":null},e.id)})):null})};var Oe=[{id:1,path:"/dashboard/music",name:"Musique",icon:"mdi mdi-pencil-circle",redirect:!1,component:Z},{id:2,path:"/dashboard/picture",name:"Photo",icon:"mdi mdi-pencil-circle",redirect:!1,component:ue},{id:3,path:"/dashboard/event",name:"Event",icon:"mdi mdi-pencil-circle",redirect:!1,component:le},{id:4,path:"/dashboard/visitor",name:"Visiteur",icon:"mdi mdi-pencil-circle",redirect:!1,component:je},{id:5,path:"/dashboard/pop",name:"Annonce",icon:"mdi mdi-pencil-circle",redirect:!1,component:function(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(!1),i=Object(r.a)(a,2),o=i[0],l=i[1],d=function(){u.a.get("".concat(m,"/pop")).then((function(e){l(!0),s(e.data)})).catch((function(e){console.log(e)}))};return Object(c.useEffect)((function(){d()}),[]),Object(g.jsxs)("div",{className:"space-y-5",children:[Object(g.jsx)(be,{submit:function(){d()}}),Object(g.jsx)(pe,{pops:n,popIsLoading:o})]})}},{id:6,path:"/dashboard",pathTo:"/dashboard/music",name:"Dashboard",redirect:!0}];function ve(){var e=Object(l.g)(),t=Object(c.useState)(null),n=Object(r.a)(t,2),s=n[0],a=n[1],i=function(){u.a.get("".concat(m,"/events")).then((function(e){a(e.data)})).catch((function(e){console.log(e)}))};return Object(c.useEffect)((function(){i()}),[]),Object(c.useEffect)((function(){var t=localStorage.getItem("token");t?(console.log("il y a un token"),u.a.get("".concat(m,"/login/isuserauth"),{headers:{"x-access-token":t}}).then((function(t){t.data.auth||(localStorage.removeItem("token"),e.push("login"))})).catch((function(e){console.log(e)}))):(localStorage.removeItem("token"),e.push("/login"))}),[e]),Object(c.useEffect)((function(){A((function(e){"event"===e&&i()}))}),[]),Object(g.jsx)("div",{className:"min-h-screen bg-white dark:bg-gray-800",children:Object(g.jsx)("div",{className:"py-5",children:Object(g.jsx)("main",{children:Object(g.jsx)("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:Object(g.jsx)(l.d,{children:Oe.map((function(e,t){return e.redirect?Object(g.jsx)(l.a,{from:e.path,to:e.pathTo},t):Object(g.jsx)(l.b,{path:e.path,component:function(){return Object(g.jsx)(e.component,{event:s})}},t)}))})})})})})}var ye=n(52),we=(n(181),["component"]),Ne=function(e){var t=e.component,n=Object(ye.a)(e,we);return Object(g.jsx)(l.b,Object(T.a)(Object(T.a)({},n),{},{render:function(e){return Object(g.jsx)(c.Fragment,{children:Object(g.jsx)(t,Object(T.a)({},e))})}}))},ke=["component","isAuth"],Se=function(e){var t=e.component,n=e.isAuth,s=Object(ye.a)(e,ke);return Object(g.jsx)("div",{children:Object(g.jsx)(l.d,{children:Object(g.jsx)(l.b,Object(T.a)(Object(T.a)({},s),{},{render:function(e){return!1===n?Object(g.jsx)(c.Fragment,{children:Object(g.jsx)(t,Object(T.a)(Object(T.a)({},s),e))}):Object(g.jsx)(l.a,{to:{pathname:"/dashboard",state:{from:e.location}}})}}),"index")})})},Ce=n(198),_e=function(){var e=Object(l.g)(),t=function(){localStorage.removeItem("token"),e.push("/")};return Object(g.jsx)(Ce.a,{as:"nav",className:"bg-white border-b border-gray-200 dark:border-gray-700 dark:bg-gray-700",children:function(e){var n=e.open;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:Object(g.jsxs)("div",{className:"flex justify-between h-16",children:[Object(g.jsx)("div",{className:"flex",children:Object(g.jsx)("div",{className:"hidden sm:-my-px sm:ml-6 sm:flex sm:space-x-8",children:Oe.filter((function(e){return!1===e.redirect})).map((function(e){return Object(g.jsx)(o.c,{to:e.path,className:"inline-flex items-center px-1 pt-1 border-b-2 border-gray-500 text-sm font-medium dark:text-white",activeClassName:"dark:border-white dark:text-white border-indigo-500 text-gray-900 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium","aria-current":e.current?"page":void 0,children:e.name},e.name)}))})}),Object(g.jsxs)("div",{className:"hidden sm:ml-6 sm:flex sm:items-center space-x-4",children:[Object(g.jsx)(C,{}),Object(g.jsx)("button",{onClick:function(){t()},type:"button",className:"bg-white dark:bg-transparent dark:text-white p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Deconnexion"})]}),Object(g.jsxs)("div",{className:"w-full flex items-center sm:hidden justify-between",children:[Object(g.jsxs)(Ce.a.Button,{className:"bg-white dark:bg-gray-600 dark:text-white inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[Object(g.jsx)("span",{className:"sr-only",children:"Open main menu"}),n?Object(g.jsx)(y.b,{className:"block h-6 w-6","aria-hidden":"true"}):Object(g.jsx)(y.a,{className:"block h-6 w-6","aria-hidden":"true"})]}),Object(g.jsx)(C,{})]})]})}),Object(g.jsx)(v.a,{as:c.Fragment,enter:"transition ease-out duration-200",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:Object(g.jsx)(Ce.a.Panel,{className:"sm:hidden",children:Object(g.jsx)("div",{className:"pt-4 pb-3 border-t border-gray-200",children:Object(g.jsxs)("div",{className:"mt-3 space-y-1",children:[Oe.filter((function(e){return!1===e.redirect})).map((function(e){return Object(g.jsx)(o.c,{to:e.path,className:"block px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100",children:e.name},e.name)})),Object(g.jsx)("div",{className:"block px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100 cursor-pointer",onClick:function(){t()},children:"Deconnexion"})]})})})})]})}})},Ie=["component","isAuth"],Ee=function(e){var t=e.component,n=e.isAuth,s=Object(ye.a)(e,Ie);return Object(g.jsx)("div",{children:Object(g.jsx)(l.d,{children:Object(g.jsx)(l.b,Object(T.a)(Object(T.a)({},s),{},{render:function(e){return n?Object(g.jsx)(l.b,Object(T.a)(Object(T.a)({},s),{},{render:function(e){return Object(g.jsxs)(c.Fragment,{children:[Object(g.jsx)(_e,{}),Object(g.jsx)(t,Object(T.a)({},e))]})}})):Object(g.jsx)(l.a,{to:{pathname:"/login",state:{from:e.location}}})}}))})})},Te=function(){var e=Object(l.g)(),t=Object(c.useState)(null),n=Object(r.a)(t,2),s=n[0],a=n[1];return Object(g.jsx)("div",{children:Object(g.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:Object(g.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[Object(g.jsxs)("div",{children:[Object(g.jsx)("img",{className:"mx-auto h-12 w-auto",src:"https://tailwindui.com/img/logos/workflow-mark-indigo-600.svg",alt:"Workflow"}),Object(g.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Music Request"}),Object(g.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:Object(g.jsx)("span",{className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Renseigner un pseudonyme"})})]}),Object(g.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:function(t){t.preventDefault(),function(){var t=Object(te.a)();u.a.post("".concat(m,"/visitor"),{pseudo:s,isNotAllowed:!1,uuid:t}).then((function(t){var n={id:t.data.id,uuid:t.data.uuid,pseudo:t.data.pseudo};localStorage.setItem("usInfoMusic",JSON.stringify(n)),F("update","user"),e.push("/app")})).catch((function(e){console.log(e)}))}()},children:[Object(g.jsx)("input",{type:"hidden",name:"remember",value:"true"}),Object(g.jsx)("div",{className:"rounded-md shadow-sm -space-y-px",children:Object(g.jsxs)("div",{children:[Object(g.jsx)("label",{htmlFor:"email-address",className:"sr-only",children:"pseudonyme"}),Object(g.jsx)("input",{onChange:function(e){a(e.target.value)},id:"pseudo",name:"pseudo",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Pseudo"})]})}),Object(g.jsx)("div",{children:Object(g.jsxs)("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[Object(g.jsx)("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3"}),"Entrer"]})})]})]})})})};var Be=function(){var e=Object(c.useState)(!1),t=Object(r.a)(e,2),n=t[0],s=t[1];return Object(c.useEffect)((function(){return function(){var e=localStorage.getItem("token");e?(console.log("il y a un token"),u.a.get("".concat(m,"/login/isuserauth"),{headers:{"x-access-token":e}}).then((function(e){!0===e.data.auth?s(!0):localStorage.removeItem("token")})).catch((function(e){console.log(e)}))):console.log("il ny a pas de token")}(),function(){M.disconnect()}}),[]),Object(g.jsx)("div",{className:"",children:Object(g.jsx)(o.a,{children:Object(g.jsxs)(l.d,{children:[Object(g.jsx)(l.a,{exact:!0,path:"/",to:"/app"}),Object(g.jsx)(Ne,{exact:!0,path:"/app",component:H}),Object(g.jsx)(Ne,{exact:!0,path:"/new",component:Te}),Object(g.jsx)(Se,{path:"/login",component:J,isAuth:n}),Object(g.jsx)(Ee,{path:"/dashboard",component:ve,isAuth:n})]})})})},Pe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,206)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),s(e),a(e),i(e)}))};i.a.render(Object(g.jsx)(s.a.StrictMode,{children:Object(g.jsx)(Be,{})}),document.getElementById("root")),Pe()}},[[182,1,2]]]);
//# sourceMappingURL=main.7f4a2602.chunk.js.map